import{o as D,c as I,a as m,t as he,r as Gt,w as Vt,b as Wt,d as ae,e as me,f as Je,g as Ye,v as bt,h as ge,i as Y,j as we,k as Jt,l as vt,F as Ke,m as wt,n as Yt,p as Kt,q as Xt,s as Zt,u as ie,K as Qt,x as en}from"./vendor-88cb66cd.js";import{s as x,m as xe,i as Se,t as _e,j as Ee,c as Ae,l as K,a as Re,b as Ce,d as Te,e as Pe,f as X,g as Oe,h as tn}from"./viz-8174d069.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const V=(t,e)=>{const o=t.__vccOpts||t;for(const[n,r]of e)o[n]=r;return o},nn={props:["chartId"],data(){return{flourishScript:null}},methods:{loadFlourishEmbed(){this.flourishScript&&this.flourishScript.remove(),window.FlourishLoaded&&delete window.FlourishLoaded,this.flourishScript=document.createElement("script"),this.flourishScript.src="https://public.flourish.studio/resources/embed.js",this.flourishScript.async=!0,document.body.appendChild(this.flourishScript)}},watch:{chartId:{handler(){this.$nextTick(()=>{this.loadFlourishEmbed()})},immediate:!0}},mounted(){this.loadFlourishEmbed()},beforeUnmount(){this.flourishScript&&this.flourishScript.remove(),window.FlourishLoaded&&delete window.FlourishLoaded}},on=["data-src"],rn=["src"];function sn(t,e,o,n,r,s){return D(),I("div",{class:"flourish-embed flourish-bar-chart-race","data-src":`visualisation/${o.chartId}`},[m("noscript",null,[m("img",{src:`https://public.flourish.studio/visualisation/${o.chartId}/thumbnail`,width:"100%",alt:"bar-chart-race visualization"},null,8,rn)])],8,on)}const an=V(nn,[["render",sn]]);const ln={props:["title"],data(){return{showHelp:!1}}},cn={class:"text-2xl font-bold mb-4"},un={class:"list-disc pl-6 space-y-3 text-left"};function dn(t,e,o,n,r,s){return D(),I("div",null,[m("button",{onClick:e[0]||(e[0]=i=>r.showHelp=!0),class:"help-button"},e[4]||(e[4]=[m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-6 h-6"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])),r.showHelp?(D(),I("div",{key:0,class:"modal-overlay",onClick:e[3]||(e[3]=i=>r.showHelp=!1)},[m("div",{class:"modal-content",onClick:e[2]||(e[2]=Vt(()=>{},["stop"]))},[m("h2",cn,he(o.title),1),e[5]||(e[5]=m("hr",{class:"my-4"},null,-1)),m("ul",un,[Gt(t.$slots,"default",{},void 0,!0)]),m("button",{onClick:e[1]||(e[1]=i=>r.showHelp=!1),class:"close-button"}," Close ")])])):Wt("",!0)])}const Xe=V(ln,[["render",dn],["__scopeId","data-v-ee563de0"]]);const pn={class:"flex flex-col"},fn={class:"flex items-center justify-center px-4 mt-10 mb-5"},hn={class:"selector mb-4"},mn={__name:"BarChartRace",setup(t){const e=ae("20144600");return(o,n)=>(D(),I("div",pn,[m("div",fn,[n[2]||(n[2]=m("h1",{class:"text-4xl font-bold text-center"},"Bar Chart Race",-1)),me(Xe,{title:"How to Use?",class:"my-auto"},{default:Je(()=>n[1]||(n[1]=[m("li",null,[m("strong",null,"Highest/Lowest Selection:"),m("br"),Y(" You can choose to display either the top 10 highest values or the lowest values ")],-1),m("li",null,[m("strong",null,"Playback Control:"),m("br"),Y(" Use the play/pause button to control the animation. The timeline slider allows you to jump to specific points in time ")],-1),m("li",null,[m("strong",null,"Continent Filter:"),m("br"),Y(" Toggle different continents to filter the data and focus on specific regions ")],-1)])),_:1})]),m("div",hn,[n[4]||(n[4]=m("label",{for:"chartSelector",class:"mr-2"},"Select Chart:",-1)),Ye(m("select",{id:"chartSelector","onUpdate:modelValue":n[0]||(n[0]=r=>e.value=r)},n[3]||(n[3]=[m("option",{value:"20144600"},"GDP",-1),m("option",{value:"20895787"},"GNH",-1),m("option",{value:"20897395"},"World Population",-1),m("option",{value:"20897358"},"Life Expectancy",-1)]),512),[[bt,e.value]])]),(D(),ge(an,{key:e.value,chartId:e.value},null,8,["chartId"]))]))}},gn=V(mn,[["__scopeId","data-v-b4ae174c"]]);const yn={mounted(){let o="world";const n=x("#yearSlider"),r=x("#yearLabel"),s=x("#tooltip"),i=xe().scale(150).translate([1200/2,560/2]),l=Se().projection(i),p=_e().domain([-1,0,1e3,5e3,1e4,2e4,5e4]).range(["#cccccc","#f2f2f2","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#004529"]),d=[["No data",-1],["$0",0],["$1,000",1e3],["$5,000",5e3],["$10,000",1e4],["$20,000",2e4],["$50,000+",5e4]],b=x("#legend").append("div").style("display","flex").style("align-items","flex-start").style("margin-top","2%");d.forEach((c,f)=>{const u=b.append("div").attr("class","legend-item").on("click",function(){const w=x(this).classed("selected");b.selectAll(".legend-item").classed("selected",!1),y.selectAll("path").classed("dimmed",!1).classed("country-highlight",!1),w||(x(this).classed("selected",!0),T(c[0]==="No data"?c[0]:c[1]))});u.append("div").attr("class","legend-label").text(c[0]),u.append("div").attr("class","legend-bar").style("background",c[0]==="No data"?"#cccccc":p(c[1])),f===d.length-1&&u.append("div").attr("class","legend-arrow").style("border-left-color",p(c[1])),f===0&&b.append("div").attr("class","legend-gap").style("width","20px")});function T(c){y.selectAll("path").attr("class",f=>{const u=g.get(+n.property("value")).get(f.id);if(c==="No data")return u===void 0||u===""||u===0?"country-highlight":"country dimmed";{const[w,S]=N(c);return u>=w&&u<S?"country-highlight":"country dimmed"}})}function N(c){switch(c){case 0:return[1,1e3];case 1e3:return[1e3,5e3];case 5e3:return[5e3,1e4];case 1e4:return[1e4,2e4];case 2e4:return[2e4,5e4];case 5e4:return[5e4,1/0];default:return[-1/0,1/0]}}let v,g=new Map;Promise.all([Ee("data/worlddata.json"),Ae("data/gdpdata.csv",c=>{for(let f=1960;f<=2023;f++)g.has(f)||g.set(f,new Map),g.get(f).set(c["Country Code"],+c[f])})]).then(c=>{v=c[0],R(2010),n.on("input",function(){const f=+this.value;r.text(f),R(f)}),x("#regionSelector").on("change",function(){o=this.value,R(+n.property("value"))})});const y=x("#map");function R(c){const u={world:[[-180,-60],[180,85]],africa:[[-20,-35],[40,35]],asia:[[50,-10],[80,50]],europe:[[-20,30],[50,60]],northAmerica:[[-170,5],[-50,75]],middleAmerica:[[-120,8],[-60,30]],southAmerica:[[-90,-60],[-30,15]],oceania:[[105,-50],[180,10]]}[o];u&&i.fitExtent([[50,50],[1150,550]],{type:"Polygon",coordinates:[[[u[0][0],u[0][1]],[u[0][0],u[1][1]],[u[1][0],u[1][1]],[u[1][0],u[0][1]],[u[0][0],u[0][1]]]]}),y.selectAll("path").data(v.features).join("path").attr("d",l).attr("fill",w=>{const S=g.get(c).get(w.id);return S!==void 0&&S!==""&&S!==0?p(S):"#ccc"}).attr("class","country").on("mouseover",function(w,S){if(!x(".legend-item.selected").empty())return;x(this).classed("country-highlight",!0),y.selectAll("path").classed("dimmed",!0),x(this).classed("dimmed",!1);const C=g.get(c).get(S.id);C!==void 0&&C!==""&&C!==0?P(w,S,C):P(w,S,"No data")}).on("mousemove",function(w){s.style("left",w.pageX+10+"px").style("top",w.pageY-10+"px")}).on("mouseout",function(){x(".legend-item.selected").empty()&&(x(this).classed("country-highlight",!1),y.selectAll("path").classed("dimmed",!1),$())})}function P(c,f,u){const w=Array.from(g.keys()).filter(A=>A>=1960&&A<=2023),S=w.map(A=>g.get(A).get(f.id)||0),C=+n.property("value"),Z=g.get(C).get(f.id)||0;s.html(`
        <div class="tooltip-header">
          <div class="tooltip-title">${f.properties.name}</div>
          <div class="tooltip-year">Year: ${C}</div>
        </div>
        <div class="tooltip-content">
          <div class="tooltip-gdp">GDP per capita: $${Math.round(u).toLocaleString()}</div>
          <svg class="tooltip-chart"></svg>
        </div>
      `);const _={top:10,right:10,bottom:20,left:40},z=200-_.left-_.right,U=100-_.top-_.bottom,j=K().domain([1960,2023]).range([0,z]),H=K().domain([0,Re(S)]).range([U,0]),Q=Ce().x((A,ee)=>j(+w[ee])).y(A=>H(A)).curve(Te),B=s.select("svg").attr("width",z+_.left+_.right).attr("height",U+_.top+_.bottom).append("g").attr("transform",`translate(${_.left},${_.top})`);B.append("path").datum(S).attr("fill","none").attr("d",Q),B.append("circle").attr("cx",j(C)).attr("cy",H(Z)).attr("r",4),B.append("g").attr("class","axis").attr("transform",`translate(0,${U})`).call(Pe(j).ticks(5).tickFormat(X("d"))),B.append("g").attr("class","axis").call(Oe(H).ticks(5).tickFormat(A=>`$${X("~s")(A)}`)),s.style("opacity",1).style("left",c.pageX+10+"px").style("top",c.pageY-10+"px")}function $(){s.style("opacity",0)}const L=x("#playButton");let O=!1,k;L.on("click",function(){O?(clearInterval(k),L.text("Play")):(k=setInterval(()=>{let c=+n.property("value");c<2023?n.property("value",c+1).dispatch("input"):(clearInterval(k),L.text("Play"))},1e3),L.text("Pause")),O=!O})}};function bn(t,e,o,n,r,s){return D(),I("div",null,e[0]||(e[0]=[we('<div id="controls"><div id="regionSelectorContainer"><label for="regionSelector">Select Region:</label><select id="regionSelector"><option disabled>Zoom to selection</option><option selected value="world">World</option><option value="africa">Africa</option><option value="asia">Asia</option><option value="europe">Europe</option><option value="northAmerica">North America</option><option value="middleAmerica">Middle America</option><option value="southAmerica">South America</option><option value="oceania">Oceania</option></select></div><button id="playButton">Play</button><input type="range" id="yearSlider" min="1960" max="2023" value="2010" step="1"><span id="yearLabel">2010</span></div><svg id="map" width="100%" height="auto" viewBox="0 0 1200 560"></svg><div id="legend"></div><div id="tooltip" class="tooltip" style="opacity:0;"></div>',4)]))}const vn=V(yn,[["render",bn]]);const wn={mounted(){let o="world";const n=x("#yearSlider"),r=x("#yearLabel"),s=x("#tooltip"),i=xe().scale(150).translate([1200/2,560/2]),l=Se().projection(i),p=_e().domain([1,2,3,4,5,6,7]).range(["#cccccc","#800000","#cc0000","#ff8000","#ffcc00","#41ab5d","#238443","#004529"]),d=[["No data","No data"],["1.0-1.9",1],["2.0-2.9",2],["3.0-3.9",3],["4.0-4.9",4],["5.0-5.9",5],["6.0-6.9",6],["7.0+",7]],b=x("#legend").append("div").style("display","flex").style("align-items","flex-start").style("margin-top","2%");d.forEach((c,f)=>{const u=b.append("div").attr("class","legend-item").on("click",function(){const w=x(this).classed("selected");b.selectAll(".legend-item").classed("selected",!1),y.selectAll("path").classed("dimmed",!1).classed("country-highlight",!1),w||(x(this).classed("selected",!0),T(c[0]==="No data"?c[0]:c[1]))});u.append("div").attr("class","legend-label").text(c[0]),u.append("div").attr("class","legend-bar").style("background",c[0]==="No data"?"#cccccc":p(c[1])),f===d.length-1&&u.append("div").attr("class","legend-arrow").style("border-left-color",p(c[1])),f===0&&b.append("div").attr("class","legend-gap").style("width","20px")});function T(c){y.selectAll("path").attr("class",f=>{const u=g.get(+n.property("value")).get(f.id);if(c==="No data")return u===void 0||u===""||u===0?"country-highlight":"country dimmed";{const[w,S]=N(c);return u>=w&&u<S?"country-highlight":"country dimmed"}})}function N(c){switch(c){case 1:return[1,2];case 2:return[2,3];case 3:return[3,4];case 4:return[4,5];case 5:return[5,6];case 6:return[6,7];case 7:return[7,1/0];default:return[-1/0,1/0]}}let v,g=new Map;Promise.all([Ee("data/worlddata.json"),Ae("data/gnhdata.csv",c=>{for(let f=2005;f<=2023;f++)g.has(f)||g.set(f,new Map),g.get(f).set(c["Country Code"],+c[f])})]).then(c=>{v=c[0],R(2010),n.on("input",function(){const f=+this.value;r.text(f),R(f)}),x("#regionSelector").on("change",function(){o=this.value,R(+n.property("value"))})});const y=x("#map");function R(c){const u={world:[[-180,-60],[180,85]],africa:[[-20,-35],[40,35]],asia:[[50,-10],[80,50]],europe:[[-20,30],[50,60]],northAmerica:[[-170,5],[-50,75]],middleAmerica:[[-120,8],[-60,30]],southAmerica:[[-90,-60],[-30,15]],oceania:[[105,-50],[180,10]]}[o];u&&i.fitExtent([[50,50],[1150,550]],{type:"Polygon",coordinates:[[[u[0][0],u[0][1]],[u[0][0],u[1][1]],[u[1][0],u[1][1]],[u[1][0],u[0][1]],[u[0][0],u[0][1]]]]}),y.selectAll("path").data(v.features).join("path").attr("d",l).attr("fill",w=>{const S=g.get(c).get(w.id);return S!==void 0&&S!==""&&S!==0?p(S):"#ccc"}).attr("class","country").on("mouseover",function(w,S){if(!x(".legend-item.selected").empty())return;x(this).classed("country-highlight",!0),y.selectAll("path").classed("dimmed",!0),x(this).classed("dimmed",!1);const C=g.get(c).get(S.id);C!==void 0&&C!==""&&C!==0?P(w,S,C):P(w,S,"No data")}).on("mousemove",function(w){s.style("left",w.pageX+10+"px").style("top",w.pageY-10+"px")}).on("mouseout",function(){x(".legend-item.selected").empty()&&(x(this).classed("country-highlight",!1),y.selectAll("path").classed("dimmed",!1),$())})}function P(c,f,u){const w=Array.from(g.keys()).filter(A=>A>=2005&&A<=2023),S=w.map(A=>g.get(A).get(f.id)||0),C=+n.property("value"),Z=g.get(C).get(f.id)||0;s.html(`
          <div class="tooltip-header">
            <div class="tooltip-title">${f.properties.name}</div>
            <div class="tooltip-year">Year: ${C}</div>
          </div>
          <div class="tooltip-content">
            <div class="tooltip-gnh">GNH (ladder score): ${typeof u=="number"?u.toFixed(2).toLocaleString():u}</div>
            <svg class="tooltip-chart"></svg>
          </div>
        `);const _={top:10,right:10,bottom:20,left:40},z=200-_.left-_.right,U=100-_.top-_.bottom,j=K().domain([2005,2023]).range([0,z]),H=K().domain([0,Re(S)]).range([U,0]),Q=Ce().x((A,ee)=>j(+w[ee])).y(A=>H(A)).curve(Te),B=s.select("svg").attr("width",z+_.left+_.right).attr("height",U+_.top+_.bottom).append("g").attr("transform",`translate(${_.left},${_.top})`);B.append("path").datum(S).attr("fill","none").attr("d",Q),B.append("circle").attr("cx",j(C)).attr("cy",H(Z)).attr("r",4),B.append("g").attr("class","axis").attr("transform",`translate(0,${U})`).call(Pe(j).ticks(5).tickFormat(X("d"))),B.append("g").attr("class","axis").call(Oe(H).ticks(5).tickFormat(A=>`${X("~s")(A)}`)),s.style("opacity",1).style("left",c.pageX+10+"px").style("top",c.pageY-10+"px")}function $(){s.style("opacity",0)}const L=x("#playButton");let O=!1,k;L.on("click",function(){O?(clearInterval(k),L.text("Play")):(k=setInterval(()=>{let c=+n.property("value");c<2023?n.property("value",c+1).dispatch("input"):(clearInterval(k),L.text("Play"))},1e3),L.text("Pause")),O=!O})}};function xn(t,e,o,n,r,s){return D(),I("div",null,e[0]||(e[0]=[we('<div id="controls"><div id="regionSelectorContainer"><label for="regionSelector">Select Region:</label><select id="regionSelector"><option disabled>Zoom to selection</option><option selected value="world">World</option><option value="africa">Africa</option><option value="asia">Asia</option><option value="europe">Europe</option><option value="northAmerica">North America</option><option value="middleAmerica">Middle America</option><option value="southAmerica">South America</option><option value="oceania">Oceania</option></select></div><button id="playButton">Play</button><input type="range" id="yearSlider" min="2005" max="2023" value="2010" step="1"><span id="yearLabel">2010</span></div><svg id="map" width="100%" height="auto" viewBox="0 0 1200 560"></svg><div id="legend"></div><div id="tooltip" class="tooltip" style="opacity:0;"></div>',4)]))}const Sn=V(wn,[["render",xn]]);const _n={mounted(){let o="world";const n=x("#yearSlider"),r=x("#yearLabel"),s=x("#tooltip"),i=xe().scale(150).translate([1200/2,560/2]),l=Se().projection(i),p=_e().domain([-1,30,40,45,50,55,60,65,70,75,80,83]).range(["#cccccc","#f7fbff","#ffffcc","#d9ef8b","#bae4b3","#99d8c9","#76c2d0","#53a8d8","#2986c0","#00689d","#004c7a","#004675","#00274c"]),d=[["No data",-1],[">40",30],["40-44",40],["45-49",45],["50-54",50],["55-59",55],["60-64",60],["65-69",65],["70-74",70],["75-79",75],["80-84",80],["83+",83]],b=x("#legend").append("div").style("display","flex").style("align-items","flex-start").style("margin-top","2%");d.forEach((c,f)=>{const u=b.append("div").attr("class","legend-item").on("click",function(){const w=x(this).classed("selected");b.selectAll(".legend-item").classed("selected",!1),y.selectAll("path").classed("dimmed",!1).classed("country-highlight",!1),w||(x(this).classed("selected",!0),T(c[0]==="No data"?c[0]:c[1]))});u.append("div").attr("class","legend-label").text(c[0]),u.append("div").attr("class","legend-bar").style("background",c[0]==="No data"?"#cccccc":p(c[1])),f===d.length-1&&u.append("div").attr("class","legend-arrow").style("border-left-color",p(c[1])),f===0&&b.append("div").attr("class","legend-gap").style("width","20px")});function T(c){y.selectAll("path").attr("class",f=>{const u=g.get(+n.property("value")).get(f.id);if(c==="No data")return u===void 0||u===""||u===0?"country-highlight":"country dimmed";{const[w,S]=N(c);return u>=w&&u<S?"country-highlight":"country dimmed"}})}function N(c){switch(c){case 30:return[1,39];case 40:return[40,44];case 45:return[45,49];case 50:return[50,54];case 55:return[55,59];case 60:return[60,64];case 65:return[65,69];case 70:return[70,79];case 75:return[75,79];case 80:return[80,82];case 83:return[83,1/0];default:return[-1/0,1/0]}}let v,g=new Map;Promise.all([Ee("data/worlddata.json"),Ae("data/life-expectancy.csv",c=>{for(let f=1960;f<=2021;f++)g.has(f)||g.set(f,new Map),g.get(f).set(c["Country Code"],+c[f])})]).then(c=>{v=c[0],R(2010),n.on("input",function(){const f=+this.value;r.text(f),R(f)}),x("#regionSelector").on("change",function(){o=this.value,R(+n.property("value"))})});const y=x("#map");function R(c){const u={world:[[-180,-60],[180,85]],africa:[[-20,-35],[40,35]],asia:[[50,-10],[80,50]],europe:[[-20,30],[50,60]],northAmerica:[[-170,5],[-50,75]],middleAmerica:[[-120,8],[-60,30]],southAmerica:[[-90,-60],[-30,15]],oceania:[[105,-50],[180,10]]}[o];u&&i.fitExtent([[50,50],[1150,550]],{type:"Polygon",coordinates:[[[u[0][0],u[0][1]],[u[0][0],u[1][1]],[u[1][0],u[1][1]],[u[1][0],u[0][1]],[u[0][0],u[0][1]]]]}),y.selectAll("path").data(v.features).join("path").attr("d",l).attr("fill",w=>{const S=g.get(c).get(w.id);return S!==void 0&&S!==""&&S!==0?p(S):"#ccc"}).attr("class","country").on("mouseover",function(w,S){if(!x(".legend-item.selected").empty())return;x(this).classed("country-highlight",!0),y.selectAll("path").classed("dimmed",!0),x(this).classed("dimmed",!1);const C=g.get(c).get(S.id);C!==void 0&&C!==""&&C!==0?P(w,S,C):P(w,S,"No data")}).on("mousemove",function(w){s.style("left",w.pageX+10+"px").style("top",w.pageY-10+"px")}).on("mouseout",function(){x(".legend-item.selected").empty()&&(x(this).classed("country-highlight",!1),y.selectAll("path").classed("dimmed",!1),$())})}function P(c,f,u){const w=Array.from(g.keys()).filter(A=>A>=1960&&A<=2021),S=w.map(A=>g.get(A).get(f.id)||0),C=+n.property("value"),Z=g.get(C).get(f.id)||0;s.html(`
          <div class="tooltip-header">
            <div class="tooltip-title">${f.properties.name}</div>
            <div class="tooltip-year">Year: ${C}</div>
          </div>
          <div class="tooltip-content">
            <div class="tooltip-life">Life Expectancy: ${typeof u=="number"?u.toFixed(2).toLocaleString():u} years old</div>
            <svg class="tooltip-chart"></svg>
          </div>
        `);const _={top:10,right:10,bottom:20,left:40},z=200-_.left-_.right,U=100-_.top-_.bottom,j=K().domain([1960,2021]).range([0,z]),H=K().domain([0,Re(S)]).range([U,0]),Q=Ce().x((A,ee)=>j(+w[ee])).y(A=>H(A)).curve(Te),B=s.select("svg").attr("width",z+_.left+_.right).attr("height",U+_.top+_.bottom).append("g").attr("transform",`translate(${_.left},${_.top})`);B.append("path").datum(S).attr("fill","none").attr("d",Q),B.append("circle").attr("cx",j(C)).attr("cy",H(Z)).attr("r",4),B.append("g").attr("class","axis").attr("transform",`translate(0,${U})`).call(Pe(j).ticks(5).tickFormat(X("d"))),B.append("g").attr("class","axis").call(Oe(H).ticks(5).tickFormat(A=>`$${X("~s")(A)}`)),s.style("opacity",1).style("left",c.pageX+10+"px").style("top",c.pageY-10+"px")}function $(){s.style("opacity",0)}const L=x("#playButton");let O=!1,k;L.on("click",function(){O?(clearInterval(k),L.text("Play")):(k=setInterval(()=>{let c=+n.property("value");c<2021?n.property("value",c+1).dispatch("input"):(clearInterval(k),L.text("Play"))},1e3),L.text("Pause")),O=!O})}};function En(t,e,o,n,r,s){return D(),I("div",null,e[0]||(e[0]=[we('<div id="controls"><div id="regionSelectorContainer"><label for="regionSelector">Select Region:</label><select id="regionSelector"><option disabled>Zoom to selection</option><option selected value="world">World</option><option value="africa">Africa</option><option value="asia">Asia</option><option value="europe">Europe</option><option value="northAmerica">North America</option><option value="middleAmerica">Middle America</option><option value="southAmerica">South America</option><option value="oceania">Oceania</option></select></div><button id="playButton">Play</button><input type="range" id="yearSlider" min="1960" max="2021" value="2010" step="1"><span id="yearLabel">2010</span></div><svg id="map" width="100%" height="auto" viewBox="0 0 1200 560"></svg><div id="legend"></div><div id="tooltip" class="tooltip" style="opacity:0;"></div>',4)]))}const An=V(_n,[["render",En]]);const Rn={mounted(){let o="world";const n=x("#yearSlider"),r=x("#yearLabel"),s=x("#tooltip"),i=xe().scale(150).translate([1200/2,560/2]),l=Se().projection(i),p=_e().domain([-1,1,1e5,1e6,1e7,1e8,1e9]).range(["#cccccc","#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#084594"]),d=[["No data",-1],["< 100K",1],["100K - 1M",1e5],["1M - 10M",1e6],["10M - 100M",1e7],["100M - 500M",1e8],["500M+",1e9]],b=x("#legend").append("div").style("display","flex").style("align-items","flex-start").style("margin-top","2%");d.forEach((c,f)=>{const u=b.append("div").attr("class","legend-item").on("click",function(){const w=x(this).classed("selected");b.selectAll(".legend-item").classed("selected",!1),y.selectAll("path").classed("dimmed",!1).classed("country-highlight",!1),w||(x(this).classed("selected",!0),T(c[0]==="No data"?c[0]:c[1]))});u.append("div").attr("class","legend-label").text(c[0]),u.append("div").attr("class","legend-bar").style("background",c[0]==="No data"?"#cccccc":p(c[1])),f===d.length-1&&u.append("div").attr("class","legend-arrow").style("border-left-color",p(c[1])),f===0&&b.append("div").attr("class","legend-gap").style("width","20px")});function T(c){y.selectAll("path").attr("class",f=>{const u=g.get(+n.property("value")).get(f.id);if(c==="No data")return u===void 0||u===""||u===0?"country-highlight":"country dimmed";{const[w,S]=N(c);return u>=w&&u<S?"country-highlight":"country dimmed"}})}function N(c){switch(c){case-1:return[-1/0,0];case 1:return[0,1e5];case 1e5:return[1e5,1e6];case 1e6:return[1e6,1e7];case 1e7:return[1e7,1e8];case 1e8:return[1e8,5e8];case 1e9:return[1e9,15e8];default:return[-1/0,1/0]}}let v,g=new Map;Promise.all([Ee("data/worlddata.json"),Ae("data/world-population.csv",c=>{for(let f=1960;f<=2021;f++)g.has(f)||g.set(f,new Map),g.get(f).set(c["Country Code"],+c[f])})]).then(c=>{v=c[0],R(2010),n.on("input",function(){const f=+this.value;r.text(f),R(f)}),x("#regionSelector").on("change",function(){o=this.value,R(+n.property("value"))})});const y=x("#map");function R(c){const u={world:[[-180,-60],[180,85]],africa:[[-20,-35],[40,35]],asia:[[50,-10],[80,50]],europe:[[-20,30],[50,60]],northAmerica:[[-170,5],[-50,75]],middleAmerica:[[-120,8],[-60,30]],southAmerica:[[-90,-60],[-30,15]],oceania:[[105,-50],[180,10]]}[o];u&&i.fitExtent([[50,50],[1150,550]],{type:"Polygon",coordinates:[[[u[0][0],u[0][1]],[u[0][0],u[1][1]],[u[1][0],u[1][1]],[u[1][0],u[0][1]],[u[0][0],u[0][1]]]]}),y.selectAll("path").data(v.features).join("path").attr("d",l).attr("fill",w=>{const S=g.get(c).get(w.id);return S!==void 0&&S!==""&&S!==0?p(S):"#ccc"}).attr("class","country").on("mouseover",function(w,S){if(!x(".legend-item.selected").empty())return;x(this).classed("country-highlight",!0),y.selectAll("path").classed("dimmed",!0),x(this).classed("dimmed",!1);const C=g.get(c).get(S.id);C!==void 0&&C!==""&&C!==0?P(w,S,C):P(w,S,"No data")}).on("mousemove",function(w){s.style("left",w.pageX+10+"px").style("top",w.pageY-10+"px")}).on("mouseout",function(){x(".legend-item.selected").empty()&&(x(this).classed("country-highlight",!1),y.selectAll("path").classed("dimmed",!1),$())})}function P(c,f,u){const w=Array.from(g.keys()).filter(A=>A>=1960&&A<=2021),S=w.map(A=>g.get(A).get(f.id)||0),C=+n.property("value"),Z=g.get(C).get(f.id)||0;s.html(`
        <div class="tooltip-header">
          <div class="tooltip-title">${f.properties.name}</div>
          <div class="tooltip-year">Year: ${C}</div>
        </div>
        <div class="tooltip-content">
          <div class="tooltip-population">Population: ${Math.round(u).toLocaleString()}</div>
          <svg class="tooltip-chart"></svg>
        </div>
      `);const _={top:10,right:10,bottom:20,left:40},z=200-_.left-_.right,U=100-_.top-_.bottom,j=K().domain([1960,2021]).range([0,z]),H=K().domain([0,Re(S)]).range([U,0]),Q=Ce().x((A,ee)=>j(+w[ee])).y(A=>H(A)).curve(Te),B=s.select("svg").attr("width",z+_.left+_.right).attr("height",U+_.top+_.bottom).append("g").attr("transform",`translate(${_.left},${_.top})`);B.append("path").datum(S).attr("fill","none").attr("d",Q),B.append("circle").attr("cx",j(C)).attr("cy",H(Z)).attr("r",4),B.append("g").attr("class","axis").attr("transform",`translate(0,${U})`).call(Pe(j).ticks(5).tickFormat(X("d"))),B.append("g").attr("class","axis").call(Oe(H).ticks(5).tickFormat(A=>X("~s")(A))),s.style("opacity",1).style("left",c.pageX+10+"px").style("top",c.pageY-10+"px")}function $(){s.style("opacity",0)}const L=x("#playButton");let O=!1,k;L.on("click",function(){O?(clearInterval(k),L.text("Play")):(k=setInterval(()=>{let c=+n.property("value");c<2021?n.property("value",c+1).dispatch("input"):(clearInterval(k),L.text("Play"))},1e3),L.text("Pause")),O=!O})}};function Cn(t,e,o,n,r,s){return D(),I("div",null,e[0]||(e[0]=[we('<div id="controls"><div id="regionSelectorContainer"><label for="regionSelector">Select Region:</label><select id="regionSelector"><option disabled>Zoom to selection</option><option selected value="world">World</option><option value="africa">Africa</option><option value="asia">Asia</option><option value="europe">Europe</option><option value="northAmerica">North America</option><option value="middleAmerica">Middle America</option><option value="southAmerica">South America</option><option value="oceania">Oceania</option></select></div><button id="playButton">Play</button><input type="range" id="yearSlider" min="1960" max="2021" value="2010" step="1"><span id="yearLabel">2010</span></div><svg id="map" width="100%" height="auto" viewBox="0 0 1200 560"></svg><div id="legend"></div><div id="tooltip" class="tooltip" style="opacity:0;"></div>',4)]))}const Tn=V(Rn,[["render",Cn]]);const Pn={class:"flex items-center justify-center px-4 mt-10 mb-5"},On={class:"selector mb-4"},Ln={__name:"ChoroplethMap",setup(t){const e=ae("GDP"),o=Jt(()=>({GDP:vn,GNH:Sn,Life:An,Population:Tn})[e.value]),n=()=>{};return(r,s)=>(D(),I(Ke,null,[m("div",Pn,[s[2]||(s[2]=m("h1",{class:"text-4xl font-bold text-center"},"Choropleth Map",-1)),me(Xe,{title:"How to Use?",class:"my-auto"},{default:Je(()=>s[1]||(s[1]=[m("li",null,[m("strong",null,"Highest/Lowest Selection:"),m("br"),Y(" You can choose to display either the top 10 highest values or the lowest values ")],-1),m("li",null,[m("strong",null,"Playback Control:"),m("br"),Y(" Use the play/pause button to control the animation. The timeline slider allows you to jump to specific points in time ")],-1),m("li",null,[m("strong",null,"Continent Filter:"),m("br"),Y(" Toggle different continents to filter the data and focus on specific regions ")],-1)])),_:1})]),m("div",null,[m("div",On,[s[4]||(s[4]=m("label",{for:"mapSelector",class:"mr-2"},"Select Map:",-1)),Ye(m("select",{id:"mapSelector","onUpdate:modelValue":s[0]||(s[0]=i=>e.value=i),onChange:n,class:"map-selector"},s[3]||(s[3]=[m("option",{value:"GDP"},"GDP",-1),m("option",{value:"GNH"},"GNH",-1),m("option",{value:"Life"},"Life Expectancy",-1),m("option",{value:"Population"},"Population",-1)]),544),[[bt,e.value]])]),(D(),ge(vt(o.value)))])],64))}},Nn=V(Ln,[["__scopeId","data-v-be4b8828"]]);function xt(t,e){return function(){return t.apply(e,arguments)}}const{toString:$n}=Object.prototype,{getPrototypeOf:Ze}=Object,Le=(t=>e=>{const o=$n.call(e);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),W=t=>(t=t.toLowerCase(),e=>Le(e)===t),Ne=t=>e=>typeof e===t,{isArray:oe}=Array,le=Ne("undefined");function kn(t){return t!==null&&!le(t)&&t.constructor!==null&&!le(t.constructor)&&q(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const St=W("ArrayBuffer");function Dn(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&St(t.buffer),e}const Fn=Ne("string"),q=Ne("function"),_t=Ne("number"),$e=t=>t!==null&&typeof t=="object",Bn=t=>t===!0||t===!1,ue=t=>{if(Le(t)!=="object")return!1;const e=Ze(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},In=W("Date"),Mn=W("File"),Un=W("Blob"),jn=W("FileList"),Hn=t=>$e(t)&&q(t.pipe),qn=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||q(t.append)&&((e=Le(t))==="formdata"||e==="object"&&q(t.toString)&&t.toString()==="[object FormData]"))},zn=W("URLSearchParams"),[Gn,Vn,Wn,Jn]=["ReadableStream","Request","Response","Headers"].map(W),Yn=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ce(t,e,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let n,r;if(typeof t!="object"&&(t=[t]),oe(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{const s=o?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function Et(t,e){e=e.toLowerCase();const o=Object.keys(t);let n=o.length,r;for(;n-- >0;)if(r=o[n],e===r.toLowerCase())return r;return null}const te=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),At=t=>!le(t)&&t!==te;function He(){const{caseless:t}=At(this)&&this||{},e={},o=(n,r)=>{const s=t&&Et(e,r)||r;ue(e[s])&&ue(n)?e[s]=He(e[s],n):ue(n)?e[s]=He({},n):oe(n)?e[s]=n.slice():e[s]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&ce(arguments[n],o);return e}const Kn=(t,e,o,{allOwnKeys:n}={})=>(ce(e,(r,s)=>{o&&q(r)?t[s]=xt(r,o):t[s]=r},{allOwnKeys:n}),t),Xn=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Zn=(t,e,o,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),o&&Object.assign(t.prototype,o)},Qn=(t,e,o,n)=>{let r,s,i;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)i=r[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=o!==!1&&Ze(t)}while(t&&(!o||o(t,e))&&t!==Object.prototype);return e},eo=(t,e,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=e.length;const n=t.indexOf(e,o);return n!==-1&&n===o},to=t=>{if(!t)return null;if(oe(t))return t;let e=t.length;if(!_t(e))return null;const o=new Array(e);for(;e-- >0;)o[e]=t[e];return o},no=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ze(Uint8Array)),oo=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},ro=(t,e)=>{let o;const n=[];for(;(o=t.exec(e))!==null;)n.push(o);return n},so=W("HTMLFormElement"),io=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,n,r){return n.toUpperCase()+r}),rt=(({hasOwnProperty:t})=>(e,o)=>t.call(e,o))(Object.prototype),ao=W("RegExp"),Rt=(t,e)=>{const o=Object.getOwnPropertyDescriptors(t),n={};ce(o,(r,s)=>{let i;(i=e(r,s,t))!==!1&&(n[s]=i||r)}),Object.defineProperties(t,n)},lo=t=>{Rt(t,(e,o)=>{if(q(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const n=t[o];if(q(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},co=(t,e)=>{const o={},n=r=>{r.forEach(s=>{o[s]=!0})};return oe(t)?n(t):n(String(t).split(e)),o},uo=()=>{},po=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Ie="abcdefghijklmnopqrstuvwxyz",st="0123456789",Ct={DIGIT:st,ALPHA:Ie,ALPHA_DIGIT:Ie+Ie.toUpperCase()+st},fo=(t=16,e=Ct.ALPHA_DIGIT)=>{let o="";const{length:n}=e;for(;t--;)o+=e[Math.random()*n|0];return o};function ho(t){return!!(t&&q(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const mo=t=>{const e=new Array(10),o=(n,r)=>{if($e(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[r]=n;const s=oe(n)?[]:{};return ce(n,(i,l)=>{const p=o(i,r+1);!le(p)&&(s[l]=p)}),e[r]=void 0,s}}return n};return o(t,0)},go=W("AsyncFunction"),yo=t=>t&&($e(t)||q(t))&&q(t.then)&&q(t.catch),Tt=((t,e)=>t?setImmediate:e?((o,n)=>(te.addEventListener("message",({source:r,data:s})=>{r===te&&s===o&&n.length&&n.shift()()},!1),r=>{n.push(r),te.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",q(te.postMessage)),bo=typeof queueMicrotask<"u"?queueMicrotask.bind(te):typeof process<"u"&&process.nextTick||Tt,a={isArray:oe,isArrayBuffer:St,isBuffer:kn,isFormData:qn,isArrayBufferView:Dn,isString:Fn,isNumber:_t,isBoolean:Bn,isObject:$e,isPlainObject:ue,isReadableStream:Gn,isRequest:Vn,isResponse:Wn,isHeaders:Jn,isUndefined:le,isDate:In,isFile:Mn,isBlob:Un,isRegExp:ao,isFunction:q,isStream:Hn,isURLSearchParams:zn,isTypedArray:no,isFileList:jn,forEach:ce,merge:He,extend:Kn,trim:Yn,stripBOM:Xn,inherits:Zn,toFlatObject:Qn,kindOf:Le,kindOfTest:W,endsWith:eo,toArray:to,forEachEntry:oo,matchAll:ro,isHTMLForm:so,hasOwnProperty:rt,hasOwnProp:rt,reduceDescriptors:Rt,freezeMethods:lo,toObjectSet:co,toCamelCase:io,noop:uo,toFiniteNumber:po,findKey:Et,global:te,isContextDefined:At,ALPHABET:Ct,generateString:fo,isSpecCompliantForm:ho,toJSONObject:mo,isAsyncFn:go,isThenable:yo,setImmediate:Tt,asap:bo};function E(t,e,o,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),o&&(this.config=o),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}a.inherits(E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:a.toJSONObject(this.config),code:this.code,status:this.status}}});const Pt=E.prototype,Ot={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ot[t]={value:t}});Object.defineProperties(E,Ot);Object.defineProperty(Pt,"isAxiosError",{value:!0});E.from=(t,e,o,n,r,s)=>{const i=Object.create(Pt);return a.toFlatObject(t,i,function(p){return p!==Error.prototype},l=>l!=="isAxiosError"),E.call(i,t.message,e,o,n,r),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const vo=null;function qe(t){return a.isPlainObject(t)||a.isArray(t)}function Lt(t){return a.endsWith(t,"[]")?t.slice(0,-2):t}function it(t,e,o){return t?t.concat(e).map(function(r,s){return r=Lt(r),!o&&s?"["+r+"]":r}).join(o?".":""):e}function wo(t){return a.isArray(t)&&!t.some(qe)}const xo=a.toFlatObject(a,{},null,function(e){return/^is[A-Z]/.test(e)});function ke(t,e,o){if(!a.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,o=a.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!a.isUndefined(y[g])});const n=o.metaTokens,r=o.visitor||h,s=o.dots,i=o.indexes,p=(o.Blob||typeof Blob<"u"&&Blob)&&a.isSpecCompliantForm(e);if(!a.isFunction(r))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(a.isDate(v))return v.toISOString();if(!p&&a.isBlob(v))throw new E("Blob is not supported. Use a Buffer instead.");return a.isArrayBuffer(v)||a.isTypedArray(v)?p&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,g,y){let R=v;if(v&&!y&&typeof v=="object"){if(a.endsWith(g,"{}"))g=n?g:g.slice(0,-2),v=JSON.stringify(v);else if(a.isArray(v)&&wo(v)||(a.isFileList(v)||a.endsWith(g,"[]"))&&(R=a.toArray(v)))return g=Lt(g),R.forEach(function($,L){!(a.isUndefined($)||$===null)&&e.append(i===!0?it([g],L,s):i===null?g:g+"[]",d($))}),!1}return qe(v)?!0:(e.append(it(y,g,s),d(v)),!1)}const b=[],T=Object.assign(xo,{defaultVisitor:h,convertValue:d,isVisitable:qe});function N(v,g){if(!a.isUndefined(v)){if(b.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));b.push(v),a.forEach(v,function(R,P){(!(a.isUndefined(R)||R===null)&&r.call(e,R,a.isString(P)?P.trim():P,g,T))===!0&&N(R,g?g.concat(P):[P])}),b.pop()}}if(!a.isObject(t))throw new TypeError("data must be an object");return N(t),e}function at(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Qe(t,e){this._pairs=[],t&&ke(t,this,e)}const Nt=Qe.prototype;Nt.append=function(e,o){this._pairs.push([e,o])};Nt.toString=function(e){const o=e?function(n){return e.call(this,n,at)}:at;return this._pairs.map(function(r){return o(r[0])+"="+o(r[1])},"").join("&")};function So(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $t(t,e,o){if(!e)return t;const n=o&&o.encode||So;a.isFunction(o)&&(o={serialize:o});const r=o&&o.serialize;let s;if(r?s=r(e,o):s=a.isURLSearchParams(e)?e.toString():new Qe(e,o).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class _o{constructor(){this.handlers=[]}use(e,o,n){return this.handlers.push({fulfilled:e,rejected:o,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){a.forEach(this.handlers,function(n){n!==null&&e(n)})}}const lt=_o,kt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Eo=typeof URLSearchParams<"u"?URLSearchParams:Qe,Ao=typeof FormData<"u"?FormData:null,Ro=typeof Blob<"u"?Blob:null,Co={isBrowser:!0,classes:{URLSearchParams:Eo,FormData:Ao,Blob:Ro},protocols:["http","https","file","blob","url","data"]},et=typeof window<"u"&&typeof document<"u",ze=typeof navigator=="object"&&navigator||void 0,To=et&&(!ze||["ReactNative","NativeScript","NS"].indexOf(ze.product)<0),Po=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Oo=et&&window.location.href||"http://localhost",Lo=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:et,hasStandardBrowserEnv:To,hasStandardBrowserWebWorkerEnv:Po,navigator:ze,origin:Oo},Symbol.toStringTag,{value:"Module"})),M={...Lo,...Co};function No(t,e){return ke(t,new M.classes.URLSearchParams,Object.assign({visitor:function(o,n,r,s){return M.isNode&&a.isBuffer(o)?(this.append(n,o.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function $o(t){return a.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ko(t){const e={},o=Object.keys(t);let n;const r=o.length;let s;for(n=0;n<r;n++)s=o[n],e[s]=t[s];return e}function Dt(t){function e(o,n,r,s){let i=o[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),p=s>=o.length;return i=!i&&a.isArray(r)?r.length:i,p?(a.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!l):((!r[i]||!a.isObject(r[i]))&&(r[i]=[]),e(o,n,r[i],s)&&a.isArray(r[i])&&(r[i]=ko(r[i])),!l)}if(a.isFormData(t)&&a.isFunction(t.entries)){const o={};return a.forEachEntry(t,(n,r)=>{e($o(n),r,o,0)}),o}return null}function Do(t,e,o){if(a.isString(t))try{return(e||JSON.parse)(t),a.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(o||JSON.stringify)(t)}const tt={transitional:kt,adapter:["xhr","http","fetch"],transformRequest:[function(e,o){const n=o.getContentType()||"",r=n.indexOf("application/json")>-1,s=a.isObject(e);if(s&&a.isHTMLForm(e)&&(e=new FormData(e)),a.isFormData(e))return r?JSON.stringify(Dt(e)):e;if(a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)||a.isReadableStream(e))return e;if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return No(e,this.formSerializer).toString();if((l=a.isFileList(e))||n.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return ke(l?{"files[]":e}:e,p&&new p,this.formSerializer)}}return s||r?(o.setContentType("application/json",!1),Do(e)):e}],transformResponse:[function(e){const o=this.transitional||tt.transitional,n=o&&o.forcedJSONParsing,r=this.responseType==="json";if(a.isResponse(e)||a.isReadableStream(e))return e;if(e&&a.isString(e)&&(n&&!this.responseType||r)){const i=!(o&&o.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?E.from(l,E.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:M.classes.FormData,Blob:M.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};a.forEach(["delete","get","head","post","put","patch"],t=>{tt.headers[t]={}});const nt=tt,Fo=a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bo=t=>{const e={};let o,n,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),o=i.substring(0,r).trim().toLowerCase(),n=i.substring(r+1).trim(),!(!o||e[o]&&Fo[o])&&(o==="set-cookie"?e[o]?e[o].push(n):e[o]=[n]:e[o]=e[o]?e[o]+", "+n:n)}),e},ct=Symbol("internals");function se(t){return t&&String(t).trim().toLowerCase()}function de(t){return t===!1||t==null?t:a.isArray(t)?t.map(de):String(t)}function Io(t){const e=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=o.exec(t);)e[n[1]]=n[2];return e}const Mo=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Me(t,e,o,n,r){if(a.isFunction(n))return n.call(this,e,o);if(r&&(e=o),!!a.isString(e)){if(a.isString(n))return e.indexOf(n)!==-1;if(a.isRegExp(n))return n.test(e)}}function Uo(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,o,n)=>o.toUpperCase()+n)}function jo(t,e){const o=a.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+o,{value:function(r,s,i){return this[n].call(this,e,r,s,i)},configurable:!0})})}class De{constructor(e){e&&this.set(e)}set(e,o,n){const r=this;function s(l,p,d){const h=se(p);if(!h)throw new Error("header name must be a non-empty string");const b=a.findKey(r,h);(!b||r[b]===void 0||d===!0||d===void 0&&r[b]!==!1)&&(r[b||p]=de(l))}const i=(l,p)=>a.forEach(l,(d,h)=>s(d,h,p));if(a.isPlainObject(e)||e instanceof this.constructor)i(e,o);else if(a.isString(e)&&(e=e.trim())&&!Mo(e))i(Bo(e),o);else if(a.isHeaders(e))for(const[l,p]of e.entries())s(p,l,n);else e!=null&&s(o,e,n);return this}get(e,o){if(e=se(e),e){const n=a.findKey(this,e);if(n){const r=this[n];if(!o)return r;if(o===!0)return Io(r);if(a.isFunction(o))return o.call(this,r,n);if(a.isRegExp(o))return o.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,o){if(e=se(e),e){const n=a.findKey(this,e);return!!(n&&this[n]!==void 0&&(!o||Me(this,this[n],n,o)))}return!1}delete(e,o){const n=this;let r=!1;function s(i){if(i=se(i),i){const l=a.findKey(n,i);l&&(!o||Me(n,n[l],l,o))&&(delete n[l],r=!0)}}return a.isArray(e)?e.forEach(s):s(e),r}clear(e){const o=Object.keys(this);let n=o.length,r=!1;for(;n--;){const s=o[n];(!e||Me(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const o=this,n={};return a.forEach(this,(r,s)=>{const i=a.findKey(n,s);if(i){o[i]=de(r),delete o[s];return}const l=e?Uo(s):String(s).trim();l!==s&&delete o[s],o[l]=de(r),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const o=Object.create(null);return a.forEach(this,(n,r)=>{n!=null&&n!==!1&&(o[r]=e&&a.isArray(n)?n.join(", "):n)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,o])=>e+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...o){const n=new this(e);return o.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[ct]=this[ct]={accessors:{}}).accessors,r=this.prototype;function s(i){const l=se(i);n[l]||(jo(r,i),n[l]=!0)}return a.isArray(e)?e.forEach(s):s(e),this}}De.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);a.reduceDescriptors(De.prototype,({value:t},e)=>{let o=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[o]=n}}});a.freezeMethods(De);const G=De;function Ue(t,e){const o=this||nt,n=e||o,r=G.from(n.headers);let s=n.data;return a.forEach(t,function(l){s=l.call(o,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function Ft(t){return!!(t&&t.__CANCEL__)}function re(t,e,o){E.call(this,t??"canceled",E.ERR_CANCELED,e,o),this.name="CanceledError"}a.inherits(re,E,{__CANCEL__:!0});function Bt(t,e,o){const n=o.config.validateStatus;!o.status||!n||n(o.status)?t(o):e(new E("Request failed with status code "+o.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Ho(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qo(t,e){t=t||10;const o=new Array(t),n=new Array(t);let r=0,s=0,i;return e=e!==void 0?e:1e3,function(p){const d=Date.now(),h=n[s];i||(i=d),o[r]=p,n[r]=d;let b=s,T=0;for(;b!==r;)T+=o[b++],b=b%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),d-i<e)return;const N=h&&d-h;return N?Math.round(T*1e3/N):void 0}}function zo(t,e){let o=0,n=1e3/e,r,s;const i=(d,h=Date.now())=>{o=h,r=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const h=Date.now(),b=h-o;b>=n?i(d,h):(r=d,s||(s=setTimeout(()=>{s=null,i(r)},n-b)))},()=>r&&i(r)]}const ye=(t,e,o=3)=>{let n=0;const r=qo(50,250);return zo(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,p=i-n,d=r(p),h=i<=l;n=i;const b={loaded:i,total:l,progress:l?i/l:void 0,bytes:p,rate:d||void 0,estimated:d&&l&&h?(l-i)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(b)},o)},ut=(t,e)=>{const o=t!=null;return[n=>e[0]({lengthComputable:o,total:t,loaded:n}),e[1]]},dt=t=>(...e)=>a.asap(()=>t(...e)),Go=M.hasStandardBrowserEnv?((t,e)=>o=>(o=new URL(o,M.origin),t.protocol===o.protocol&&t.host===o.host&&(e||t.port===o.port)))(new URL(M.origin),M.navigator&&/(msie|trident)/i.test(M.navigator.userAgent)):()=>!0,Vo=M.hasStandardBrowserEnv?{write(t,e,o,n,r,s){const i=[t+"="+encodeURIComponent(e)];a.isNumber(o)&&i.push("expires="+new Date(o).toGMTString()),a.isString(n)&&i.push("path="+n),a.isString(r)&&i.push("domain="+r),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Wo(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Jo(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function It(t,e){return t&&!Wo(e)?Jo(t,e):e}const pt=t=>t instanceof G?{...t}:t;function ne(t,e){e=e||{};const o={};function n(d,h,b,T){return a.isPlainObject(d)&&a.isPlainObject(h)?a.merge.call({caseless:T},d,h):a.isPlainObject(h)?a.merge({},h):a.isArray(h)?h.slice():h}function r(d,h,b,T){if(a.isUndefined(h)){if(!a.isUndefined(d))return n(void 0,d,b,T)}else return n(d,h,b,T)}function s(d,h){if(!a.isUndefined(h))return n(void 0,h)}function i(d,h){if(a.isUndefined(h)){if(!a.isUndefined(d))return n(void 0,d)}else return n(void 0,h)}function l(d,h,b){if(b in e)return n(d,h);if(b in t)return n(void 0,d)}const p={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,h,b)=>r(pt(d),pt(h),b,!0)};return a.forEach(Object.keys(Object.assign({},t,e)),function(h){const b=p[h]||r,T=b(t[h],e[h],h);a.isUndefined(T)&&b!==l||(o[h]=T)}),o}const Mt=t=>{const e=ne({},t);let{data:o,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=G.from(i),e.url=$t(It(e.baseURL,e.url),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let p;if(a.isFormData(o)){if(M.hasStandardBrowserEnv||M.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((p=i.getContentType())!==!1){const[d,...h]=p?p.split(";").map(b=>b.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...h].join("; "))}}if(M.hasStandardBrowserEnv&&(n&&a.isFunction(n)&&(n=n(e)),n||n!==!1&&Go(e.url))){const d=r&&s&&Vo.read(s);d&&i.set(r,d)}return e},Yo=typeof XMLHttpRequest<"u",Ko=Yo&&function(t){return new Promise(function(o,n){const r=Mt(t);let s=r.data;const i=G.from(r.headers).normalize();let{responseType:l,onUploadProgress:p,onDownloadProgress:d}=r,h,b,T,N,v;function g(){N&&N(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function R(){if(!y)return;const $=G.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),O={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:$,config:t,request:y};Bt(function(c){o(c),g()},function(c){n(c),g()},O),y=null}"onloadend"in y?y.onloadend=R:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(R)},y.onabort=function(){y&&(n(new E("Request aborted",E.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new E("Network Error",E.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let L=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const O=r.transitional||kt;r.timeoutErrorMessage&&(L=r.timeoutErrorMessage),n(new E(L,O.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,t,y)),y=null},s===void 0&&i.setContentType(null),"setRequestHeader"in y&&a.forEach(i.toJSON(),function(L,O){y.setRequestHeader(O,L)}),a.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),l&&l!=="json"&&(y.responseType=r.responseType),d&&([T,v]=ye(d,!0),y.addEventListener("progress",T)),p&&y.upload&&([b,N]=ye(p),y.upload.addEventListener("progress",b),y.upload.addEventListener("loadend",N)),(r.cancelToken||r.signal)&&(h=$=>{y&&(n(!$||$.type?new re(null,t,y):$),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const P=Ho(r.url);if(P&&M.protocols.indexOf(P)===-1){n(new E("Unsupported protocol "+P+":",E.ERR_BAD_REQUEST,t));return}y.send(s||null)})},Xo=(t,e)=>{const{length:o}=t=t?t.filter(Boolean):[];if(e||o){let n=new AbortController,r;const s=function(d){if(!r){r=!0,l();const h=d instanceof Error?d:this.reason;n.abort(h instanceof E?h:new re(h instanceof Error?h.message:h))}};let i=e&&setTimeout(()=>{i=null,s(new E(`timeout ${e} of ms exceeded`,E.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:p}=n;return p.unsubscribe=()=>a.asap(l),p}},Zo=Xo,Qo=function*(t,e){let o=t.byteLength;if(!e||o<e){yield t;return}let n=0,r;for(;n<o;)r=n+e,yield t.slice(n,r),n=r},er=async function*(t,e){for await(const o of tr(t))yield*Qo(o,e)},tr=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:o,value:n}=await e.read();if(o)break;yield n}}finally{await e.cancel()}},ft=(t,e,o,n)=>{const r=er(t,e);let s=0,i,l=p=>{i||(i=!0,n&&n(p))};return new ReadableStream({async pull(p){try{const{done:d,value:h}=await r.next();if(d){l(),p.close();return}let b=h.byteLength;if(o){let T=s+=b;o(T)}p.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(p){return l(p),r.return()}},{highWaterMark:2})},Fe=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ut=Fe&&typeof ReadableStream=="function",nr=Fe&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),jt=(t,...e)=>{try{return!!t(...e)}catch{return!1}},or=Ut&&jt(()=>{let t=!1;const e=new Request(M.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ht=64*1024,Ge=Ut&&jt(()=>a.isReadableStream(new Response("").body)),be={stream:Ge&&(t=>t.body)};Fe&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!be[e]&&(be[e]=a.isFunction(t[e])?o=>o[e]():(o,n)=>{throw new E(`Response type '${e}' is not supported`,E.ERR_NOT_SUPPORT,n)})})})(new Response);const rr=async t=>{if(t==null)return 0;if(a.isBlob(t))return t.size;if(a.isSpecCompliantForm(t))return(await new Request(M.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(a.isArrayBufferView(t)||a.isArrayBuffer(t))return t.byteLength;if(a.isURLSearchParams(t)&&(t=t+""),a.isString(t))return(await nr(t)).byteLength},sr=async(t,e)=>{const o=a.toFiniteNumber(t.getContentLength());return o??rr(e)},ir=Fe&&(async t=>{let{url:e,method:o,data:n,signal:r,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:p,responseType:d,headers:h,withCredentials:b="same-origin",fetchOptions:T}=Mt(t);d=d?(d+"").toLowerCase():"text";let N=Zo([r,s&&s.toAbortSignal()],i),v;const g=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let y;try{if(p&&or&&o!=="get"&&o!=="head"&&(y=await sr(h,n))!==0){let O=new Request(e,{method:"POST",body:n,duplex:"half"}),k;if(a.isFormData(n)&&(k=O.headers.get("content-type"))&&h.setContentType(k),O.body){const[c,f]=ut(y,ye(dt(p)));n=ft(O.body,ht,c,f)}}a.isString(b)||(b=b?"include":"omit");const R="credentials"in Request.prototype;v=new Request(e,{...T,signal:N,method:o.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:R?b:void 0});let P=await fetch(v);const $=Ge&&(d==="stream"||d==="response");if(Ge&&(l||$&&g)){const O={};["status","statusText","headers"].forEach(u=>{O[u]=P[u]});const k=a.toFiniteNumber(P.headers.get("content-length")),[c,f]=l&&ut(k,ye(dt(l),!0))||[];P=new Response(ft(P.body,ht,c,()=>{f&&f(),g&&g()}),O)}d=d||"text";let L=await be[a.findKey(be,d)||"text"](P,t);return!$&&g&&g(),await new Promise((O,k)=>{Bt(O,k,{data:L,headers:G.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:v})})}catch(R){throw g&&g(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new E("Network Error",E.ERR_NETWORK,t,v),{cause:R.cause||R}):E.from(R,R&&R.code,t,v)}}),Ve={http:vo,xhr:Ko,fetch:ir};a.forEach(Ve,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const mt=t=>`- ${t}`,ar=t=>a.isFunction(t)||t===null||t===!1,Ht={getAdapter:t=>{t=a.isArray(t)?t:[t];const{length:e}=t;let o,n;const r={};for(let s=0;s<e;s++){o=t[s];let i;if(n=o,!ar(o)&&(n=Ve[(i=String(o)).toLowerCase()],n===void 0))throw new E(`Unknown adapter '${i}'`);if(n)break;r[i||"#"+s]=n}if(!n){const s=Object.entries(r).map(([l,p])=>`adapter ${l} `+(p===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(mt).join(`
`):" "+mt(s[0]):"as no adapter specified";throw new E("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Ve};function je(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new re(null,t)}function gt(t){return je(t),t.headers=G.from(t.headers),t.data=Ue.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ht.getAdapter(t.adapter||nt.adapter)(t).then(function(n){return je(t),n.data=Ue.call(t,t.transformResponse,n),n.headers=G.from(n.headers),n},function(n){return Ft(n)||(je(t),n&&n.response&&(n.response.data=Ue.call(t,t.transformResponse,n.response),n.response.headers=G.from(n.response.headers))),Promise.reject(n)})}const qt="1.7.9",Be={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Be[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const yt={};Be.transitional=function(e,o,n){function r(s,i){return"[Axios v"+qt+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new E(r(i," has been removed"+(o?" in "+o:"")),E.ERR_DEPRECATED);return o&&!yt[i]&&(yt[i]=!0,console.warn(r(i," has been deprecated since v"+o+" and will be removed in the near future"))),e?e(s,i,l):!0}};Be.spelling=function(e){return(o,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function lr(t,e,o){if(typeof t!="object")throw new E("options must be an object",E.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;for(;r-- >0;){const s=n[r],i=e[s];if(i){const l=t[s],p=l===void 0||i(l,s,t);if(p!==!0)throw new E("option "+s+" must be "+p,E.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new E("Unknown option "+s,E.ERR_BAD_OPTION)}}const pe={assertOptions:lr,validators:Be},J=pe.validators;class ve{constructor(e){this.defaults=e,this.interceptors={request:new lt,response:new lt}}async request(e,o){try{return await this._request(e,o)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,o){typeof e=="string"?(o=o||{},o.url=e):o=e||{},o=ne(this.defaults,o);const{transitional:n,paramsSerializer:r,headers:s}=o;n!==void 0&&pe.assertOptions(n,{silentJSONParsing:J.transitional(J.boolean),forcedJSONParsing:J.transitional(J.boolean),clarifyTimeoutError:J.transitional(J.boolean)},!1),r!=null&&(a.isFunction(r)?o.paramsSerializer={serialize:r}:pe.assertOptions(r,{encode:J.function,serialize:J.function},!0)),pe.assertOptions(o,{baseUrl:J.spelling("baseURL"),withXsrfToken:J.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let i=s&&a.merge(s.common,s[o.method]);s&&a.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),o.headers=G.concat(i,s);const l=[];let p=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(o)===!1||(p=p&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let h,b=0,T;if(!p){const v=[gt.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,d),T=v.length,h=Promise.resolve(o);b<T;)h=h.then(v[b++],v[b++]);return h}T=l.length;let N=o;for(b=0;b<T;){const v=l[b++],g=l[b++];try{N=v(N)}catch(y){g.call(this,y);break}}try{h=gt.call(this,N)}catch(v){return Promise.reject(v)}for(b=0,T=d.length;b<T;)h=h.then(d[b++],d[b++]);return h}getUri(e){e=ne(this.defaults,e);const o=It(e.baseURL,e.url);return $t(o,e.params,e.paramsSerializer)}}a.forEach(["delete","get","head","options"],function(e){ve.prototype[e]=function(o,n){return this.request(ne(n||{},{method:e,url:o,data:(n||{}).data}))}});a.forEach(["post","put","patch"],function(e){function o(n){return function(s,i,l){return this.request(ne(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}ve.prototype[e]=o(),ve.prototype[e+"Form"]=o(!0)});const fe=ve;class ot{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(s){o=s});const n=this;this.promise.then(r=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](r);n._listeners=null}),this.promise.then=r=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(r);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new re(s,i,l),o(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const o=this._listeners.indexOf(e);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const e=new AbortController,o=n=>{e.abort(n)};return this.subscribe(o),e.signal.unsubscribe=()=>this.unsubscribe(o),e.signal}static source(){let e;return{token:new ot(function(r){e=r}),cancel:e}}}const cr=ot;function ur(t){return function(o){return t.apply(null,o)}}function dr(t){return a.isObject(t)&&t.isAxiosError===!0}const We={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(We).forEach(([t,e])=>{We[e]=t});const pr=We;function zt(t){const e=new fe(t),o=xt(fe.prototype.request,e);return a.extend(o,fe.prototype,e,{allOwnKeys:!0}),a.extend(o,e,null,{allOwnKeys:!0}),o.create=function(r){return zt(ne(t,r))},o}const F=zt(nt);F.Axios=fe;F.CanceledError=re;F.CancelToken=cr;F.isCancel=Ft;F.VERSION=qt;F.toFormData=ke;F.AxiosError=E;F.Cancel=F.CanceledError;F.all=function(e){return Promise.all(e)};F.spread=ur;F.isAxiosError=dr;F.mergeConfig=ne;F.AxiosHeaders=G;F.formToJSON=t=>Dt(a.isHTMLForm(t)?new FormData(t):t);F.getAdapter=Ht.getAdapter;F.HttpStatusCode=pr;F.default=F;const fr=F;const hr={name:"ScatterPlotChart",data(){return{allData:[],selectedRegions:[],availableRegions:[]}},mounted(){this.loadDataAndRenderChart()},methods:{async loadDataAndRenderChart(){try{const e=(await fr.get("data/GNH_2023.csv")).data,o=this.parseCSV(e);this.allData=o,this.availableRegions=[...new Set(o.map(n=>n.region).filter(Boolean))],this.selectedRegions=[...this.availableRegions],this.updateChart()}catch(t){console.error("Error loading data:",t)}},parseCSV(t){const e=t.split(`
`),o=e[0].split(",");return e.slice(1).map(r=>{const s=r.split(",").map(l=>l===""?null:l.trim());for(;s.length<o.length;)s.push(null);const i=o.reduce((l,p,d)=>(l[p.trim()]=s[d],l),{});return{name:i["Country name"]||null,year:i.year||null,lifeLadder:i["Life Ladder"]?parseFloat(i["Life Ladder"]):null,logGDP:i["Log GDP per capita"]?parseFloat(i["Log GDP per capita"]):null,socialSupport:i["Social support"]?parseFloat(i["Social support"]):null,healthyLife:i["Healthy life expectancy at birth"]?parseFloat(i["Healthy life expectancy at birth"]):null,freedom:i["Freedom to make life choices"]?parseFloat(i["Freedom to make life choices"]):null,generosity:i.Generosity?parseFloat(i.Generosity):null,corruption:i["Perceptions of corruption"]?parseFloat(i["Perceptions of corruption"]):null,positiveAffect:i["Positive affect"]?parseFloat(i["Positive affect"]):null,negativeAffect:i["Negative affect"]?parseFloat(i["Negative affect"]):null,region:i.Region||null,code:i["Country Code"]||null,population:i[2021]?parseInt(i[2021],10):null}})},updateChart(){const t=this.allData.filter(e=>this.selectedRegions.includes(e.region));this.renderChart(t)},renderChart(t){const e=tn(document.getElementById("scatterplot")),o={Oceania:"#e41a1c",Africa:"#377eb8",Europe:"#ffcc00",Americas:"#4daf4a",Asia:"#CC79A7"};e.setOption({title:{text:"",left:"center",top:"top",textStyle:{color:"#000",fontSize:20,fontWeight:"bold"}},xAxis:{name:"Log GDP per Capita",type:"value",min:7,max:12,nameTextStyle:{color:"#000"},axisLabel:{color:"#000"}},yAxis:{name:"Life Ladder",type:"value",min:2,nameTextStyle:{color:"#000"},axisLabel:{color:"#000"}},series:[{type:"scatter",data:t.map(n=>({value:[n.logGDP,n.lifeLadder],symbolSize:n.population?Math.sqrt(Math.sqrt(n.population))/2:10,itemStyle:{color:o[n.region]||"#cccccc"},tooltip:{trigger:"item",formatter:function(r){return`${n.name} (${n.code})<br>Region: ${n.region}<br>Log GDP: ${r.value[0]}<br>Life Ladder: ${r.value[1]}<br>Population (2021): ${n.population}`}},z:n.population?Math.sqrt(n.population):1})),label:{show:!0,color:"#000",formatter:function(n){return t[n.dataIndex].code}}}],tooltip:{trigger:"item",axisPointer:{type:"shadow"},formatter:function(n){const r=t[n.dataIndex];return`${r.name} (${r.code})<br>Region: ${r.region}<br>Log GDP: ${n.value[0]}<br>Life Ladder: ${n.value[1]}<br>Population (2021): ${r.population}`}},legend:{data:Object.keys(o),textStyle:{color:"#000"}}})}}},mr={class:"region-selector flex"},gr=["value"],yr={class:"ml-1"};function br(t,e,o,n,r,s){return D(),I("div",null,[m("div",mr,[e[2]||(e[2]=m("label",null,[m("strong",null,"Select Regions:")],-1)),(D(!0),I(Ke,null,wt(r.availableRegions,i=>(D(),I("div",{key:i,class:"region-checkbox"},[Ye(m("input",{type:"checkbox",value:i,"onUpdate:modelValue":e[0]||(e[0]=l=>r.selectedRegions=l),onChange:e[1]||(e[1]=(...l)=>s.updateChart&&s.updateChart(...l))},null,40,gr),[[Yt,r.selectedRegions]]),m("span",yr,he(i),1)]))),128))]),e[3]||(e[3]=m("div",{id:"scatterplot",style:{width:"100%",height:"800px"}},null,-1))])}const vr=V(hr,[["render",br]]),wr={class:"flex flex-col px-4 mt-10 mb-5"},xr={class:"flex justify-center"},Sr={__name:"ScatterPlot",setup(t){return(e,o)=>(D(),I("div",wr,[m("div",xr,[o[1]||(o[1]=m("h1",{class:"text-4xl font-bold"},"Scatterplot",-1)),me(Xe,{title:"How to Use?",class:"my-auto"},{default:Je(()=>o[0]||(o[0]=[m("li",null,[m("strong",null,"Highest/Lowest Selection:"),m("br"),Y(" You can choose to display either the top 10 highest values or the lowest values ")],-1),m("li",null,[m("strong",null,"Playback Control:"),m("br"),Y(" Use the play/pause button to control the animation. The timeline slider allows you to jump to specific points in time ")],-1),m("li",null,[m("strong",null,"Continent Filter:"),m("br"),Y(" Toggle different continents to filter the data and focus on specific regions ")],-1)])),_:1})]),o[2]||(o[2]=m("h2",{class:"text-xl font-bold text-center mt-2 text-gray-500"},"Life Ladder vs Log GDP per Capita",-1)),me(vr)]))}};const _r={class:"timeline flex flex-wrap flex-col max-w-[1000px] mx-auto relative before:absolute before:left-1/2 before:w-0.5 before:h-full before:content-[''] before:-ml-[1px] before:bg-white/10"},Er=["data-text"],Ar={class:"timeline__content relative p-8 rounded-lg mx-10"},Rr=["src","alt"],Cr={class:"font-pathway font-normal text-6xl text-white absolute -mt-14 left-20 -ml-10 border-b-2 border-white/50",style:{"text-shadow":"0 0 10px rgba(0,0,0,0.8)"}},Tr={class:"text-white/70 font-cardo text-lg text-left leading-relaxed mt-16 pl-4"},Pr={__name:"TimeLine",setup(t){const e=ae([{text:"Oil Crisis",image:"timeline/node1.png",title:"1973",description:"Triggered by an OPEC oil embargo, this crisis led to soaring oil prices, causing economic recessions in many countries."},{text:"Oil Crisis",image:"timeline/node2.png",title:"1979",description:"Stemming from the Iranian Revolution, this event resulted in reduced oil output and further price hikes, exacerbating global economic challenges."},{text:"Debt Crisis",image:"timeline/node3.png",title:"1980s",description:"Numerous developing nations faced unsustainable debt levels, leading to economic slowdowns and the need for international financial interventions."},{text:"Asian Financial Crisis",image:"timeline/node4.png",title:"1997",description:"Originating in Thailand, this crisis spread across East Asia, causing significant economic contractions in affected countries."},{text:"Global Financial Crisis",image:"timeline/node5.png",title:"20072008",description:"Sparked by the collapse of the housing bubble in the United States, this crisis led to a severe worldwide economic downturn, known as the Great Recession."},{text:"European Debt Crisis",image:"timeline/node6.png",title:"2010",description:"Several European nations, notably Greece, faced sovereign debt challenges, leading to austerity measures and economic contractions within the Eurozone."},{text:"COVID-19 Pandemic",image:"timeline/node7.png",title:"2020",description:"The global outbreak of COVID-19 resulted in unprecedented economic disruptions, with worldwide GDP contracting by approximately 3.1% in 2020."},{text:"Global Economic Slowdown",image:"timeline/node8.png",title:"20222023",description:"Post-pandemic recovery faced obstacles due to supply chain disruptions, inflationary pressures, and geopolitical tensions, leading to sluggish growth."}]),o=ae(e.value[0].image),n=ae(0),r=i=>i===n.value,s=()=>{const i=document.querySelectorAll(".timeline-item"),l=window.scrollY;i.forEach((p,d)=>{const h=p.offsetTop,b=p.offsetTop+p.offsetHeight;l<=b-40&&l>=h&&(n.value=d,o.value=e.value[d].image)})};return Kt(()=>{window.addEventListener("scroll",s)}),Xt(()=>{window.removeEventListener("scroll",s)}),(i,l)=>(D(),I("div",{class:"timeline-container w-full min-h-screen relative py-20 bg-fixed bg-cover transition-all duration-300",style:Zt({backgroundImage:`url(${o.value})`})},[l[0]||(l[0]=m("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-md"},null,-1)),l[1]||(l[1]=m("div",{class:"timeline-header w-full text-center mb-20 relative"},[m("h2",{class:"text-white text-4xl font-normal font-cardo m-0"},"Global GDP Shaping Events"),m("h3",{class:"text-white/50 font-pathway text-base tracking-wider mt-2.5 font-normal"},"Crises and Transformations")],-1)),m("div",_r,[(D(!0),I(Ke,null,wt(e.value,(p,d)=>(D(),I("div",{key:d,class:ie(["timeline-item p-10 transition-all duration-500 w-[calc(60%-40px)] flex relative",r(d)?"opacity-100 translate-y-0 blur-none":"opacity-30 -translate-y-20 blur-sm",d%2!==0?"self-end":""]),"data-text":p.text},[m("div",Ar,[m("img",{src:p.image,alt:p.title,class:"w-full h-auto shadow-[0_20px_25px_-5px_rgba(0,0,0,0.5)] mb-6"},null,8,Rr),m("h2",Cr,he(p.title),1),m("p",Tr,he(p.description),1)])],10,Er))),128))])],4))}},Or=V(Pr,[["__scopeId","data-v-44a939d7"]]);const Lr={name:"App",components:{ChoroplethMap:Nn,BarChartRace:gn,ScatterPlot:Sr,TimeLine:Or},data(){return{selectedComponent:"BarChartRace"}}},Nr={id:"content"};function $r(t,e,o,n,r,s){return D(),I("div",null,[m("nav",null,[m("ul",null,[m("li",{class:ie({active:r.selectedComponent==="BarChartRace"}),onClick:e[0]||(e[0]=i=>r.selectedComponent="BarChartRace")},"Bar Chart Race",2),m("li",{class:ie({active:r.selectedComponent==="ChoroplethMap"}),onClick:e[1]||(e[1]=i=>r.selectedComponent="ChoroplethMap")},"Choropleth Map",2),m("li",{class:ie({active:r.selectedComponent==="ScatterPlot"}),onClick:e[2]||(e[2]=i=>r.selectedComponent="ScatterPlot")},"Scatter Plot",2),m("li",{class:ie({active:r.selectedComponent==="TimeLine"}),onClick:e[3]||(e[3]=i=>r.selectedComponent="TimeLine")},"Time Line",2)])]),m("div",Nr,[(D(),ge(Qt,null,[(D(),ge(vt(r.selectedComponent)))],1024))])])}const kr=V(Lr,[["render",$r]]);en(kr).mount("#app");
