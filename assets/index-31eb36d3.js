import{o as L,c as T,a as c,F as pe,r as Se,n as he,b as re,d as _e,e as Qe,t as ne,f as Ee,g as ie,h as Kt,w as Zt,i as Qt,j as se,k as de,l as et,m as tt,v as nt,p as Ct,q as en,s as tn,u as dt,K as nn,x as on}from"./vendor-054d55dc.js";import{s as x,m as Ce,i as Re,t as Ae,j as Le,c as ke,l as X,a as Pe,b as Oe,d as De,e as Te,f as K,g as $e,h as Rt,L as J}from"./viz-60725f17.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}})();function sn(t,e){return L(),T("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function rn(t,e){return L(),T("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})])}function an(t,e){return L(),T("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ln(t,e){return L(),T("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m6.115 5.19.319 1.913A6 6 0 0 0 8.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 0 0 2.288-4.042 1.087 1.087 0 0 0-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 0 1-.98-.314l-.295-.295a1.125 1.125 0 0 1 0-1.591l.13-.132a1.125 1.125 0 0 1 1.3-.21l.603.302a.809.809 0 0 0 1.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 0 0 1.528-1.732l.146-.292M6.115 5.19A9 9 0 1 0 17.18 4.64M6.115 5.19A8.965 8.965 0 0 1 12 3c1.929 0 3.716.607 5.18 1.64"})])}function cn(t,e){return L(),T("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}const U=(t,e)=>{const o=t.__vccOpts||t;for(const[n,s]of e)o[n]=s;return o},dn={name:"NavBar",components:{HomeIcon:cn,ChartBarIcon:sn,GlobeAmericasIcon:ln,ChartPieIcon:rn,ClockIcon:an},props:{selectedComponent:{type:String,required:!0}},data(){return{navItems:[{name:"Home",component:"Home",icon:"HomeIcon"},{name:"Bar Chart Race",component:"BarChartRace",icon:"ChartBarIcon"},{name:"Choropleth Map",component:"ChoroplethMap",icon:"GlobeAmericasIcon"},{name:"Scatter Plot",component:"ScatterPlot",icon:"ChartPieIcon"},{name:"Time Line",component:"TimeLine",icon:"ClockIcon"}]}},emits:["update:selectedComponent"],methods:{updateComponent(t){this.$emit("update:selectedComponent",t)}}},un={class:"bg-slate-800 py-4"},pn={class:"flex gap-5 items-center max-w-7xl mx-3 pl-5"},fn=["onClick"];function hn(t,e,o,n,s,i){return L(),T("nav",un,[c("ul",pn,[(L(!0),T(pe,null,Se(s.navItems,r=>(L(),T("li",{key:r.name,class:he(["flex justify-center items-center gap-2 cursor-pointer text-white px-4 py-2 transition-all duration-100 hover:text-cyan-300 ",o.selectedComponent===r.component?"font-bold text-xl text-cyan-300":"text-base text-lg"]),onClick:a=>i.updateComponent(r.component)},[(L(),re(_e(r.icon),{class:"w-5 h-5"})),Qe(" "+ne(r.name),1)],10,fn))),128))])])}const mn=U(dn,[["render",hn]]),gn=""+new URL("home-e03790d6.jpg",import.meta.url).href,yn={name:"Home",emits:["update:selectedComponent"],data(){return{backgroundImage:gn}}},bn={class:"min-h-screen relative py-20 px-4 text-white"},vn={class:"max-w-4xl mx-auto relative z-10"},wn={class:"text-center"};function xn(t,e,o,n,s,i){return L(),T("div",bn,[c("div",{class:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat opacity-80",style:Ee({backgroundImage:`url(${s.backgroundImage})`})},e[1]||(e[1]=[c("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm"},null,-1)]),4),c("div",vn,[e[2]||(e[2]=ie('<div class="text-center mb-16"><h1 class="text-6xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-emerald-400"> Global GDP Visualization </h1><p class="text-2xl text-cyan-300"> Exploring Economic Trends Through Interactive Data Visualization </p></div><div class="grid md:grid-cols-2 gap-8 mb-16"><div class="bg-slate-900/50 p-8 rounded-lg backdrop-blur-sm border border-slate-700/50"><h2 class="text-2xl font-bold mb-4 text-cyan-300">Features</h2><ul class="space-y-3 text-gray-300"><li class="flex items-center gap-4"><span class="w-2 h-2 bg-cyan-400 rounded-full"></span><span class="flex-1 text-left">Bar Chart Race: GDP, GNH, Population, Life Expectancy</span></li><li class="flex items-center gap-4"><span class="w-2 h-2 bg-cyan-400 rounded-full"></span> Interactive Choropleth Maps with Time Series </li><li class="flex items-center gap-4"><span class="w-2 h-2 bg-cyan-400 rounded-full"></span> GDP vs GNH and GDP vs Life Expectancy Scatter Plot </li><li class="flex items-center gap-4"><span class="w-2 h-2 bg-cyan-400 rounded-full"></span> Historical Economic Events Timeline </li></ul></div><div class="bg-slate-900/50 p-8 rounded-lg backdrop-blur-sm border border-slate-700/50"><h2 class="text-2xl font-bold mb-4 text-cyan-300">About</h2><p class="text-gray-300 leading-relaxed text-justify"> This project provides comprehensive visualizations of global development indicators from 1960 to 2022. Beyond GDP, it explores the relationships between economic growth, population dynamics, life expectancy, and happiness indices (GNH), offering multiple interactive ways to understand how these factors shape our world. </p></div></div>',2)),c("div",wn,[c("button",{onClick:e[0]||(e[0]=r=>t.$emit("update:selectedComponent","BarChartRace")),class:"px-8 py-3 bg-gradient-to-r from-cyan-500 to-emerald-500 rounded-full text-lg font-semibold hover:from-cyan-600 hover:to-emerald-600 transition-all duration-300 shadow-lg"}," Start Exploring ")])])])}const Sn=U(yn,[["render",xn]]),_n={props:["chartId"],data(){return{flourishScript:null}},methods:{loadFlourishEmbed(){this.flourishScript&&this.flourishScript.remove(),window.FlourishLoaded&&delete window.FlourishLoaded,this.flourishScript=document.createElement("script"),this.flourishScript.src="https://public.flourish.studio/resources/embed.js",this.flourishScript.async=!0,document.body.appendChild(this.flourishScript)}},watch:{chartId:{handler(){this.$nextTick(()=>{this.loadFlourishEmbed()})},immediate:!0}},mounted(){this.loadFlourishEmbed()},beforeUnmount(){this.flourishScript&&this.flourishScript.remove(),window.FlourishLoaded&&delete window.FlourishLoaded}},En=["data-src"],Cn=["src"];function Rn(t,e,o,n,s,i){return L(),T("div",{class:"flourish-embed flourish-bar-chart-race","data-src":`visualisation/${o.chartId}`},[c("noscript",null,[c("img",{src:`https://public.flourish.studio/visualisation/${o.chartId}/thumbnail`,width:"100%",alt:"bar-chart-race visualization"},null,8,Cn)])],8,En)}const An=U(_n,[["render",Rn]]);const Ln={props:["title"],data(){return{showHelp:!1}}},kn={class:"text-2xl font-bold mb-4 text-cyan-500 text-center"},Pn={class:"instruction-list"};function On(t,e,o,n,s,i){return L(),T("div",null,[c("button",{onClick:e[0]||(e[0]=r=>s.showHelp=!0),class:"help-button"},e[4]||(e[4]=[c("div",{class:"bg-white rounded-full p-1"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"black",class:"w-5 h-5"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)])),s.showHelp?(L(),T("div",{key:0,class:"modal-overlay",onClick:e[3]||(e[3]=r=>s.showHelp=!1)},[c("div",{class:"modal-content",onClick:e[2]||(e[2]=Zt(()=>{},["stop"]))},[c("h2",kn,ne(o.title),1),e[5]||(e[5]=c("hr",{class:"my-4 border-slate-700"},null,-1)),c("ul",Pn,[Kt(t.$slots,"default",{},void 0,!0)]),c("button",{onClick:e[1]||(e[1]=r=>s.showHelp=!1),class:"close-button"}," Close ")])])):Qt("",!0)])}const ot=U(Ln,[["render",On],["__scopeId","data-v-e6d0a93e"]]);const Dn={class:"flex flex-col"},Tn={class:"flex items-center justify-center px-4 mt-10 mb-5"},$n={class:"selector mb-4"},Nn={__name:"BarChartRace",setup(t){const e=se("20144600");return(o,n)=>(L(),T("div",Dn,[c("div",Tn,[n[2]||(n[2]=c("h1",{class:"text-4xl font-bold text-center"},"Bar Chart Race",-1)),de(ot,{title:"How to Use?",class:"my-auto"},{default:et(()=>n[1]||(n[1]=[c("li",null,[c("strong",null,"Highest/Lowest Selection"),c("div",null,"You can choose to display either the top 10 highest values or the lowest values")],-1),c("li",null,[c("strong",null,"Playback Control"),c("div",null,"Use the play/pause button to control the animation. The timeline slider allows you to jump to specific points in time")],-1),c("li",null,[c("strong",null,"Continent Filter"),c("div",null,"Toggle different continents to filter the data and focus on specific regions")],-1)])),_:1})]),c("div",$n,[n[4]||(n[4]=c("label",{for:"chartSelector",class:"mr-2"},"Select Chart:",-1)),tt(c("select",{id:"chartSelector","onUpdate:modelValue":n[0]||(n[0]=s=>e.value=s)},n[3]||(n[3]=[c("option",{value:"20144600"},"GDP per capita",-1),c("option",{value:"20895787"},"GNH per capita",-1),c("option",{value:"20897395"},"World Population",-1),c("option",{value:"20897358"},"Life Expectancy",-1)]),512),[[nt,e.value]])]),(L(),re(An,{key:e.value,chartId:e.value},null,8,["chartId"]))]))}},In=U(Nn,[["__scopeId","data-v-a99cd9ff"]]);const Bn={mounted(){let o="world";const n=x("#yearSlider"),s=x("#yearLabel"),i=x("#tooltip"),r=Ce().scale(150).translate([1200/2,560/2]),a=Re().projection(r),p=Ae().domain([-1,0,1e3,5e3,1e4,2e4,5e4]).range(["#cccccc","#f2f2f2","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#004529"]),u=[["No data",-1],["$0",0],["$1,000",1e3],["$5,000",5e3],["$10,000",1e4],["$20,000",2e4],["$50,000+",5e4]],b=x("#legend").append("div").style("display","flex").style("align-items","flex-start").style("margin-top","2%");u.forEach((d,y)=>{const f=b.append("div").attr("class","legend-item").on("click",function(){const w=x(this).classed("selected");b.selectAll(".legend-item").classed("selected",!1),g.selectAll("path").classed("dimmed",!1).classed("country-highlight",!1),w||(x(this).classed("selected",!0),R(d[0]==="No data"?d[0]:d[1]))});f.append("div").attr("class","legend-label").text(d[0]),f.append("div").attr("class","legend-bar").style("background",d[0]==="No data"?"#cccccc":p(d[1])),y===u.length-1&&f.append("div").attr("class","legend-arrow").style("border-left-color",p(d[1])),y===0&&b.append("div").attr("class","legend-gap").style("width","20px")});function R(d){g.selectAll("path").attr("class",y=>{const f=m.get(+n.property("value")).get(y.id);if(d==="No data")return f===void 0||f===""||f===0?"country-highlight":"country dimmed";{const[w,S]=P(d);return f>=w&&f<S?"country-highlight":"country dimmed"}})}function P(d){switch(d){case 0:return[1,1e3];case 1e3:return[1e3,5e3];case 5e3:return[5e3,1e4];case 1e4:return[1e4,2e4];case 2e4:return[2e4,5e4];case 5e4:return[5e4,1/0];default:return[-1/0,1/0]}}let v,m=new Map;Promise.all([Le("data/worlddata.json"),ke("data/gdpdata.csv",d=>{for(let y=1960;y<=2023;y++)m.has(y)||m.set(y,new Map),m.get(y).set(d["Country Code"],+d[y])})]).then(d=>{v=d[0],_(2010),n.on("input",function(){const y=+this.value;s.text(y),_(y)}),x("#regionSelector").on("change",function(){o=this.value,_(+n.property("value"))})});const g=x("#map");function _(d){const f={world:[[-180,-60],[180,85]],africa:[[-20,-35],[40,35]],asia:[[50,-10],[80,50]],europe:[[-20,30],[50,60]],northAmerica:[[-170,5],[-50,75]],middleAmerica:[[-120,8],[-60,30]],southAmerica:[[-90,-60],[-30,15]],oceania:[[105,-50],[180,10]]}[o];f&&r.fitExtent([[50,50],[1200,560]],{type:"Polygon",coordinates:[[[f[0][0],f[0][1]],[f[0][0],f[1][1]],[f[1][0],f[1][1]],[f[1][0],f[0][1]],[f[0][0],f[0][1]]]]}),g.selectAll("path").data(v.features).join("path").attr("d",a).attr("fill",w=>{const S=m.get(d).get(w.id);return S!==void 0&&S!==""&&S!==0?p(S):"#ccc"}).attr("class","country").on("mouseover",function(w,S){if(!x(".legend-item.selected").empty())return;x(this).classed("country-highlight",!0),g.selectAll("path").classed("dimmed",!0),x(this).classed("dimmed",!1);const k=m.get(d).get(S.id);k!==void 0&&k!==""&&k!==0?O(w,S,k):O(w,S,"No data")}).on("mousemove",function(w){i.style("left",w.pageX+10+"px").style("top",w.pageY-10+"px")}).on("mouseout",function(){x(".legend-item.selected").empty()&&(x(this).classed("country-highlight",!1),g.selectAll("path").classed("dimmed",!1),N())})}function O(d,y,f){const w=Array.from(m.keys()).filter(A=>A>=1960&&A<=2023),S=w.map(A=>m.get(A).get(y.id)||0),k=+n.property("value"),Z=m.get(k).get(y.id)||0;i.html(`
        <div class="tooltip-header">
          <div class="tooltip-title">${y.properties.name}</div>
          <div class="tooltip-year">Year: ${k}</div>
        </div>
        <div class="tooltip-content">
          <div class="tooltip-gdp">GDP per capita: $${Math.round(f).toLocaleString()}</div>
          <svg class="tooltip-chart"></svg>
        </div>
      `);const E={top:10,right:10,bottom:20,left:40},G=200-E.left-E.right,j=100-E.top-E.bottom,H=X().domain([1960,2023]).range([0,G]),z=X().domain([0,Pe(S)]).range([j,0]),Q=Oe().x((A,ee)=>H(+w[ee])).y(A=>z(A)).curve(De),F=i.select("svg").attr("width",G+E.left+E.right).attr("height",j+E.top+E.bottom).append("g").attr("transform",`translate(${E.left},${E.top})`);F.append("path").datum(S).attr("fill","none").attr("d",Q),F.append("circle").attr("cx",H(k)).attr("cy",z(Z)).attr("r",4),F.append("g").attr("class","axis").attr("transform",`translate(0,${j})`).call(Te(H).ticks(5).tickFormat(K("d"))),F.append("g").attr("class","axis").call($e(z).ticks(5).tickFormat(A=>`$${K("~s")(A)}`)),i.style("opacity",1).style("left",d.pageX+10+"px").style("top",d.pageY-10+"px")}function N(){i.style("opacity",0)}const $=x("#playButton");let D=!1,I;$.on("click",function(){D?(clearInterval(I),$.text("Play")):(I=setInterval(()=>{let d=+n.property("value");d<2023?n.property("value",d+1).dispatch("input"):(clearInterval(I),$.text("Play"))},1e3),$.text("Pause")),D=!D})}};function Fn(t,e,o,n,s,i){return L(),T("div",null,e[0]||(e[0]=[ie('<svg id="map" width="1200" height="600"></svg><div id="legend"></div><div id="controls"><div id="regionSelectorContainer"><label for="regionSelector">Select Region:</label><select id="regionSelector"><option disabled>Zoom to selection</option><option selected value="world">World</option><option value="africa">Africa</option><option value="asia">Asia</option><option value="europe">Europe</option><option value="northAmerica">North America</option><option value="middleAmerica">Middle America</option><option value="southAmerica">South America</option><option value="oceania">Oceania</option></select></div><button id="playButton">Play</button><input type="range" id="yearSlider" min="1960" max="2023" value="2010" step="1"><span id="yearLabel">2010</span></div><div id="tooltip" class="tooltip" style="opacity:0;"></div>',4)]))}const Mn=U(Bn,[["render",Fn]]),Un={mounted(){let o="world";const n=x("#yearSlider"),s=x("#yearLabel"),i=x("#tooltip"),r=Ce().scale(150).translate([1200/2,560/2]),a=Re().projection(r),p=Ae().domain([1,2,3,4,5,6,7]).range(["#cccccc","#800000","#cc0000","#ff8000","#ffcc00","#41ab5d","#238443","#004529"]),u=[["No data","No data"],["1.0-1.9",1],["2.0-2.9",2],["3.0-3.9",3],["4.0-4.9",4],["5.0-5.9",5],["6.0-6.9",6],["7.0+",7]],b=x("#legend").append("div").style("display","flex").style("align-items","flex-start").style("margin-top","2%");u.forEach((d,y)=>{const f=b.append("div").attr("class","legend-item").on("click",function(){const w=x(this).classed("selected");b.selectAll(".legend-item").classed("selected",!1),g.selectAll("path").classed("dimmed",!1).classed("country-highlight",!1),w||(x(this).classed("selected",!0),R(d[0]==="No data"?d[0]:d[1]))});f.append("div").attr("class","legend-label").text(d[0]),f.append("div").attr("class","legend-bar").style("background",d[0]==="No data"?"#cccccc":p(d[1])),y===u.length-1&&f.append("div").attr("class","legend-arrow").style("border-left-color",p(d[1])),y===0&&b.append("div").attr("class","legend-gap").style("width","20px")});function R(d){g.selectAll("path").attr("class",y=>{const f=m.get(+n.property("value")).get(y.id);if(d==="No data")return f===void 0||f===""||f===0?"country-highlight":"country dimmed";{const[w,S]=P(d);return f>=w&&f<S?"country-highlight":"country dimmed"}})}function P(d){switch(d){case 1:return[1,2];case 2:return[2,3];case 3:return[3,4];case 4:return[4,5];case 5:return[5,6];case 6:return[6,7];case 7:return[7,1/0];default:return[-1/0,1/0]}}let v,m=new Map;Promise.all([Le("data/worlddata.json"),ke("data/gnhdata.csv",d=>{for(let y=2005;y<=2023;y++)m.has(y)||m.set(y,new Map),m.get(y).set(d["Country Code"],+d[y])})]).then(d=>{v=d[0],_(2010),n.on("input",function(){const y=+this.value;s.text(y),_(y)}),x("#regionSelector").on("change",function(){o=this.value,_(+n.property("value"))})});const g=x("#map");function _(d){const f={world:[[-180,-60],[180,85]],africa:[[-20,-35],[40,35]],asia:[[50,-10],[80,50]],europe:[[-20,30],[50,60]],northAmerica:[[-170,5],[-50,75]],middleAmerica:[[-120,8],[-60,30]],southAmerica:[[-90,-60],[-30,15]],oceania:[[105,-50],[180,10]]}[o];f&&r.fitExtent([[50,50],[1200,560]],{type:"Polygon",coordinates:[[[f[0][0],f[0][1]],[f[0][0],f[1][1]],[f[1][0],f[1][1]],[f[1][0],f[0][1]],[f[0][0],f[0][1]]]]}),g.selectAll("path").data(v.features).join("path").attr("d",a).attr("fill",w=>{const S=m.get(d).get(w.id);return S!==void 0&&S!==""&&S!==0?p(S):"#ccc"}).attr("class","country").on("mouseover",function(w,S){if(!x(".legend-item.selected").empty())return;x(this).classed("country-highlight",!0),g.selectAll("path").classed("dimmed",!0),x(this).classed("dimmed",!1);const k=m.get(d).get(S.id);k!==void 0&&k!==""&&k!==0?O(w,S,k):O(w,S,"No data")}).on("mousemove",function(w){i.style("left",w.pageX+10+"px").style("top",w.pageY-10+"px")}).on("mouseout",function(){x(".legend-item.selected").empty()&&(x(this).classed("country-highlight",!1),g.selectAll("path").classed("dimmed",!1),N())})}function O(d,y,f){const w=Array.from(m.keys()).filter(A=>A>=2005&&A<=2023),S=w.map(A=>m.get(A).get(y.id)||0),k=+n.property("value"),Z=m.get(k).get(y.id)||0;i.html(`
          <div class="tooltip-header">
            <div class="tooltip-title">${y.properties.name}</div>
            <div class="tooltip-year">Year: ${k}</div>
          </div>
          <div class="tooltip-content">
            <div class="tooltip-gnh">GNH (ladder score): ${typeof f=="number"?f.toFixed(2).toLocaleString():f}</div>
            <svg class="tooltip-chart"></svg>
          </div>
        `);const E={top:10,right:10,bottom:20,left:40},G=200-E.left-E.right,j=100-E.top-E.bottom,H=X().domain([2005,2023]).range([0,G]),z=X().domain([0,Pe(S)]).range([j,0]),Q=Oe().x((A,ee)=>H(+w[ee])).y(A=>z(A)).curve(De),F=i.select("svg").attr("width",G+E.left+E.right).attr("height",j+E.top+E.bottom).append("g").attr("transform",`translate(${E.left},${E.top})`);F.append("path").datum(S).attr("fill","none").attr("d",Q),F.append("circle").attr("cx",H(k)).attr("cy",z(Z)).attr("r",4),F.append("g").attr("class","axis").attr("transform",`translate(0,${j})`).call(Te(H).ticks(5).tickFormat(K("d"))),F.append("g").attr("class","axis").call($e(z).ticks(5).tickFormat(A=>`${K("~s")(A)}`)),i.style("opacity",1).style("left",d.pageX+10+"px").style("top",d.pageY-10+"px")}function N(){i.style("opacity",0)}const $=x("#playButton");let D=!1,I;$.on("click",function(){D?(clearInterval(I),$.text("Play")):(I=setInterval(()=>{let d=+n.property("value");d<2023?n.property("value",d+1).dispatch("input"):(clearInterval(I),$.text("Play"))},1e3),$.text("Pause")),D=!D})}};function jn(t,e,o,n,s,i){return L(),T("div",null,e[0]||(e[0]=[ie('<svg id="map" width="1200" height="600"></svg><div id="legend"></div><div id="controls"><div id="regionSelectorContainer"><label for="regionSelector">Select Region:</label><select id="regionSelector"><option disabled>Zoom to selection</option><option selected value="world">World</option><option value="africa">Africa</option><option value="asia">Asia</option><option value="europe">Europe</option><option value="northAmerica">North America</option><option value="middleAmerica">Middle America</option><option value="southAmerica">South America</option><option value="oceania">Oceania</option></select></div><button id="playButton">Play</button><input type="range" id="yearSlider" min="2005" max="2023" value="2010" step="1"><span id="yearLabel">2010</span></div><div id="tooltip" class="tooltip" style="opacity:0;"></div>',4)]))}const Hn=U(Un,[["render",jn]]),zn={mounted(){let o="world";const n=x("#yearSlider"),s=x("#yearLabel"),i=x("#tooltip"),r=Ce().scale(150).translate([1200/2,560/2]),a=Re().projection(r),p=Ae().domain([-1,30,40,45,50,55,60,65,70,75,80,83]).range(["#cccccc","#f7fbff","#ffffcc","#d9ef8b","#bae4b3","#99d8c9","#76c2d0","#53a8d8","#2986c0","#00689d","#004c7a","#004675","#00274c"]),u=[["No data",-1],[">40",30],["40-44",40],["45-49",45],["50-54",50],["55-59",55],["60-64",60],["65-69",65],["70-74",70],["75-79",75],["80-84",80],["83+",83]],b=x("#legend").append("div").style("display","flex").style("align-items","flex-start").style("margin-top","2%");u.forEach((d,y)=>{const f=b.append("div").attr("class","legend-item").on("click",function(){const w=x(this).classed("selected");b.selectAll(".legend-item").classed("selected",!1),g.selectAll("path").classed("dimmed",!1).classed("country-highlight",!1),w||(x(this).classed("selected",!0),R(d[0]==="No data"?d[0]:d[1]))});f.append("div").attr("class","legend-label").text(d[0]),f.append("div").attr("class","legend-bar").style("background",d[0]==="No data"?"#cccccc":p(d[1])),y===u.length-1&&f.append("div").attr("class","legend-arrow").style("border-left-color",p(d[1])),y===0&&b.append("div").attr("class","legend-gap").style("width","20px")});function R(d){g.selectAll("path").attr("class",y=>{const f=m.get(+n.property("value")).get(y.id);if(d==="No data")return f===void 0||f===""||f===0?"country-highlight":"country dimmed";{const[w,S]=P(d);return f>=w&&f<S?"country-highlight":"country dimmed"}})}function P(d){switch(d){case 30:return[1,39];case 40:return[40,44];case 45:return[45,49];case 50:return[50,54];case 55:return[55,59];case 60:return[60,64];case 65:return[65,69];case 70:return[70,79];case 75:return[75,79];case 80:return[80,82];case 83:return[83,1/0];default:return[-1/0,1/0]}}let v,m=new Map;Promise.all([Le("data/worlddata.json"),ke("data/life-expectancy.csv",d=>{for(let y=1960;y<=2021;y++)m.has(y)||m.set(y,new Map),m.get(y).set(d["Country Code"],+d[y])})]).then(d=>{v=d[0],_(2010),n.on("input",function(){const y=+this.value;s.text(y),_(y)}),x("#regionSelector").on("change",function(){o=this.value,_(+n.property("value"))})});const g=x("#map");function _(d){const f={world:[[-180,-60],[180,85]],africa:[[-20,-35],[40,35]],asia:[[50,-10],[80,50]],europe:[[-20,30],[50,60]],northAmerica:[[-170,5],[-50,75]],middleAmerica:[[-120,8],[-60,30]],southAmerica:[[-90,-60],[-30,15]],oceania:[[105,-50],[180,10]]}[o];f&&r.fitExtent([[50,50],[1200,560]],{type:"Polygon",coordinates:[[[f[0][0],f[0][1]],[f[0][0],f[1][1]],[f[1][0],f[1][1]],[f[1][0],f[0][1]],[f[0][0],f[0][1]]]]}),g.selectAll("path").data(v.features).join("path").attr("d",a).attr("fill",w=>{const S=m.get(d).get(w.id);return S!==void 0&&S!==""&&S!==0?p(S):"#ccc"}).attr("class","country").on("mouseover",function(w,S){if(!x(".legend-item.selected").empty())return;x(this).classed("country-highlight",!0),g.selectAll("path").classed("dimmed",!0),x(this).classed("dimmed",!1);const k=m.get(d).get(S.id);k!==void 0&&k!==""&&k!==0?O(w,S,k):O(w,S,"No data")}).on("mousemove",function(w){i.style("left",w.pageX+10+"px").style("top",w.pageY-10+"px")}).on("mouseout",function(){x(".legend-item.selected").empty()&&(x(this).classed("country-highlight",!1),g.selectAll("path").classed("dimmed",!1),N())})}function O(d,y,f){const w=Array.from(m.keys()).filter(A=>A>=1960&&A<=2021),S=w.map(A=>m.get(A).get(y.id)||0),k=+n.property("value"),Z=m.get(k).get(y.id)||0;i.html(`
          <div class="tooltip-header">
            <div class="tooltip-title">${y.properties.name}</div>
            <div class="tooltip-year">Year: ${k}</div>
          </div>
          <div class="tooltip-content">
            <div class="tooltip-life">Life Expectancy: ${typeof f=="number"?f.toFixed(2).toLocaleString():f} years old</div>
            <svg class="tooltip-chart"></svg>
          </div>
        `);const E={top:10,right:10,bottom:20,left:40},G=200-E.left-E.right,j=100-E.top-E.bottom,H=X().domain([1960,2021]).range([0,G]),z=X().domain([0,Pe(S)]).range([j,0]),Q=Oe().x((A,ee)=>H(+w[ee])).y(A=>z(A)).curve(De),F=i.select("svg").attr("width",G+E.left+E.right).attr("height",j+E.top+E.bottom).append("g").attr("transform",`translate(${E.left},${E.top})`);F.append("path").datum(S).attr("fill","none").attr("d",Q),F.append("circle").attr("cx",H(k)).attr("cy",z(Z)).attr("r",4),F.append("g").attr("class","axis").attr("transform",`translate(0,${j})`).call(Te(H).ticks(5).tickFormat(K("d"))),F.append("g").attr("class","axis").call($e(z).ticks(5).tickFormat(A=>`$${K("~s")(A)}`)),i.style("opacity",1).style("left",d.pageX+10+"px").style("top",d.pageY-10+"px")}function N(){i.style("opacity",0)}const $=x("#playButton");let D=!1,I;$.on("click",function(){D?(clearInterval(I),$.text("Play")):(I=setInterval(()=>{let d=+n.property("value");d<2021?n.property("value",d+1).dispatch("input"):(clearInterval(I),$.text("Play"))},1e3),$.text("Pause")),D=!D})}};function qn(t,e,o,n,s,i){return L(),T("div",null,e[0]||(e[0]=[ie('<svg id="map" width="1200" height="600"></svg><div id="legend"></div><div id="controls"><div id="regionSelectorContainer"><label for="regionSelector">Select Region:</label><select id="regionSelector"><option disabled>Zoom to selection</option><option selected value="world">World</option><option value="africa">Africa</option><option value="asia">Asia</option><option value="europe">Europe</option><option value="northAmerica">North America</option><option value="middleAmerica">Middle America</option><option value="southAmerica">South America</option><option value="oceania">Oceania</option></select></div><button id="playButton">Play</button><input type="range" id="yearSlider" min="1960" max="2021" value="2010" step="1"><span id="yearLabel">2010</span></div><div id="tooltip" class="tooltip" style="opacity:0;"></div>',4)]))}const Gn=U(zn,[["render",qn]]),Vn={mounted(){let o="world";const n=x("#yearSlider"),s=x("#yearLabel"),i=x("#tooltip"),r=Ce().scale(150).translate([1200/2,560/2]),a=Re().projection(r),p=Ae().domain([-1,1,1e5,1e6,1e7,1e8,1e9]).range(["#cccccc","#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#084594"]),u=[["No data",-1],["< 100K",1],["100K - 1M",1e5],["1M - 10M",1e6],["10M - 100M",1e7],["100M - 500M",1e8],["500M+",1e9]],b=x("#legend").append("div").style("display","flex").style("align-items","flex-start").style("margin-top","2%");u.forEach((d,y)=>{const f=b.append("div").attr("class","legend-item").on("click",function(){const w=x(this).classed("selected");b.selectAll(".legend-item").classed("selected",!1),g.selectAll("path").classed("dimmed",!1).classed("country-highlight",!1),w||(x(this).classed("selected",!0),R(d[0]==="No data"?d[0]:d[1]))});f.append("div").attr("class","legend-label").text(d[0]),f.append("div").attr("class","legend-bar").style("background",d[0]==="No data"?"#cccccc":p(d[1])),y===u.length-1&&f.append("div").attr("class","legend-arrow").style("border-left-color",p(d[1])),y===0&&b.append("div").attr("class","legend-gap").style("width","20px")});function R(d){g.selectAll("path").attr("class",y=>{const f=m.get(+n.property("value")).get(y.id);if(d==="No data")return f===void 0||f===""||f===0?"country-highlight":"country dimmed";{const[w,S]=P(d);return f>=w&&f<S?"country-highlight":"country dimmed"}})}function P(d){switch(d){case-1:return[-1/0,0];case 1:return[0,1e5];case 1e5:return[1e5,1e6];case 1e6:return[1e6,1e7];case 1e7:return[1e7,1e8];case 1e8:return[1e8,5e8];case 1e9:return[1e9,15e8];default:return[-1/0,1/0]}}let v,m=new Map;Promise.all([Le("data/worlddata.json"),ke("data/world-population.csv",d=>{for(let y=1960;y<=2021;y++)m.has(y)||m.set(y,new Map),m.get(y).set(d["Country Code"],+d[y])})]).then(d=>{v=d[0],_(2010),n.on("input",function(){const y=+this.value;s.text(y),_(y)}),x("#regionSelector").on("change",function(){o=this.value,_(+n.property("value"))})});const g=x("#map");function _(d){const f={world:[[-180,-60],[180,85]],africa:[[-20,-35],[40,35]],asia:[[50,-10],[80,50]],europe:[[-20,30],[50,60]],northAmerica:[[-170,5],[-50,75]],middleAmerica:[[-120,8],[-60,30]],southAmerica:[[-90,-60],[-30,15]],oceania:[[105,-50],[180,10]]}[o];f&&r.fitExtent([[50,50],[1200,560]],{type:"Polygon",coordinates:[[[f[0][0],f[0][1]],[f[0][0],f[1][1]],[f[1][0],f[1][1]],[f[1][0],f[0][1]],[f[0][0],f[0][1]]]]}),g.selectAll("path").data(v.features).join("path").attr("d",a).attr("fill",w=>{const S=m.get(d).get(w.id);return S!==void 0&&S!==""&&S!==0?p(S):"#ccc"}).attr("class","country").on("mouseover",function(w,S){if(!x(".legend-item.selected").empty())return;x(this).classed("country-highlight",!0),g.selectAll("path").classed("dimmed",!0),x(this).classed("dimmed",!1);const k=m.get(d).get(S.id);k!==void 0&&k!==""&&k!==0?O(w,S,k):O(w,S,"No data")}).on("mousemove",function(w){i.style("left",w.pageX+10+"px").style("top",w.pageY-10+"px")}).on("mouseout",function(){x(".legend-item.selected").empty()&&(x(this).classed("country-highlight",!1),g.selectAll("path").classed("dimmed",!1),N())})}function O(d,y,f){const w=Array.from(m.keys()).filter(A=>A>=1960&&A<=2021),S=w.map(A=>m.get(A).get(y.id)||0),k=+n.property("value"),Z=m.get(k).get(y.id)||0;i.html(`
        <div class="tooltip-header">
          <div class="tooltip-title">${y.properties.name}</div>
          <div class="tooltip-year">Year: ${k}</div>
        </div>
        <div class="tooltip-content">
          <div class="tooltip-population">Population: ${Math.round(f).toLocaleString()}</div>
          <svg class="tooltip-chart"></svg>
        </div>
      `);const E={top:10,right:10,bottom:20,left:40},G=200-E.left-E.right,j=100-E.top-E.bottom,H=X().domain([1960,2021]).range([0,G]),z=X().domain([0,Pe(S)]).range([j,0]),Q=Oe().x((A,ee)=>H(+w[ee])).y(A=>z(A)).curve(De),F=i.select("svg").attr("width",G+E.left+E.right).attr("height",j+E.top+E.bottom).append("g").attr("transform",`translate(${E.left},${E.top})`);F.append("path").datum(S).attr("fill","none").attr("d",Q),F.append("circle").attr("cx",H(k)).attr("cy",z(Z)).attr("r",4),F.append("g").attr("class","axis").attr("transform",`translate(0,${j})`).call(Te(H).ticks(5).tickFormat(K("d"))),F.append("g").attr("class","axis").call($e(z).ticks(5).tickFormat(A=>K("~s")(A))),i.style("opacity",1).style("left",d.pageX+10+"px").style("top",d.pageY-10+"px")}function N(){i.style("opacity",0)}const $=x("#playButton");let D=!1,I;$.on("click",function(){D?(clearInterval(I),$.text("Play")):(I=setInterval(()=>{let d=+n.property("value");d<2021?n.property("value",d+1).dispatch("input"):(clearInterval(I),$.text("Play"))},1e3),$.text("Pause")),D=!D})}};function Wn(t,e,o,n,s,i){return L(),T("div",null,e[0]||(e[0]=[ie('<svg id="map" width="1200" height="600"></svg><div id="legend"></div><div id="controls"><div id="regionSelectorContainer"><label for="regionSelector">Select Region:</label><select id="regionSelector"><option disabled>Zoom to selection</option><option selected value="world">World</option><option value="africa">Africa</option><option value="asia">Asia</option><option value="europe">Europe</option><option value="northAmerica">North America</option><option value="middleAmerica">Middle America</option><option value="southAmerica">South America</option><option value="oceania">Oceania</option></select></div><button id="playButton">Play</button><input type="range" id="yearSlider" min="1960" max="2021" value="2010" step="1"><span id="yearLabel">2010</span></div><div id="tooltip" class="tooltip" style="opacity:0;"></div>',4)]))}const Yn=U(Vn,[["render",Wn]]);const Jn={class:"flex items-center justify-center px-4 mt-10 mb-5"},Xn={class:"selector mb-4"},Kn={__name:"ChoroplethMap",setup(t){const e=se("GDP"),o=Ct(()=>({GDP:Mn,GNH:Hn,Life:Gn,Population:Yn})[e.value]),n=()=>{};return(s,i)=>(L(),T(pe,null,[c("div",Jn,[i[2]||(i[2]=c("h1",{class:"text-4xl font-bold text-center"},"Choropleth Map",-1)),de(ot,{title:"How to Use?",class:"my-auto"},{default:et(()=>i[1]||(i[1]=[c("li",null,[c("strong",null,"Region Selection"),c("div",null,"Use the dropdown menu to zoom into specific continents or view the entire world map")],-1),c("li",null,[c("strong",null,"Timeline Control"),c("div",null,"Use the slider to view data from 1960 to 2023, or click the play button for automatic year progression")],-1),c("li",null,[c("strong",null,"Interactive Legend"),c("div",null,"Click on legend items to highlight countries within specific GDP ranges. Click again to reset")],-1),c("li",null,[c("strong",null,"Country Details"),c("div",null,"Hover over countries to see detailed GDP information and historical trends in a popup tooltip")],-1)])),_:1})]),c("div",null,[c("div",Xn,[i[4]||(i[4]=c("label",{for:"mapSelector",class:"mr-2"},"Select Map:",-1)),tt(c("select",{id:"mapSelector","onUpdate:modelValue":i[0]||(i[0]=r=>e.value=r),onChange:n,class:"map-selector"},i[3]||(i[3]=[c("option",{value:"GDP"},"GDP",-1),c("option",{value:"GNH"},"GNH",-1),c("option",{value:"Life"},"Life Expectancy",-1),c("option",{value:"Population"},"Population",-1)]),544),[[nt,e.value]])]),(L(),re(_e(o.value)))])],64))}},Zn=U(Kn,[["__scopeId","data-v-2ae57ffb"]]);function At(t,e){return function(){return t.apply(e,arguments)}}const{toString:Qn}=Object.prototype,{getPrototypeOf:st}=Object,Ne=(t=>e=>{const o=Qn.call(e);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),W=t=>(t=t.toLowerCase(),e=>Ne(e)===t),Ie=t=>e=>typeof e===t,{isArray:ae}=Array,ue=Ie("undefined");function eo(t){return t!==null&&!ue(t)&&t.constructor!==null&&!ue(t.constructor)&&q(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Lt=W("ArrayBuffer");function to(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Lt(t.buffer),e}const no=Ie("string"),q=Ie("function"),kt=Ie("number"),Be=t=>t!==null&&typeof t=="object",oo=t=>t===!0||t===!1,me=t=>{if(Ne(t)!=="object")return!1;const e=st(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},so=W("Date"),ro=W("File"),io=W("Blob"),ao=W("FileList"),lo=t=>Be(t)&&q(t.pipe),co=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||q(t.append)&&((e=Ne(t))==="formdata"||e==="object"&&q(t.toString)&&t.toString()==="[object FormData]"))},uo=W("URLSearchParams"),[po,fo,ho,mo]=["ReadableStream","Request","Response","Headers"].map(W),go=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fe(t,e,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),ae(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=o?Object.getOwnPropertyNames(t):Object.keys(t),r=i.length;let a;for(n=0;n<r;n++)a=i[n],e.call(null,t[a],a,t)}}function Pt(t,e){e=e.toLowerCase();const o=Object.keys(t);let n=o.length,s;for(;n-- >0;)if(s=o[n],e===s.toLowerCase())return s;return null}const te=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ot=t=>!ue(t)&&t!==te;function Ve(){const{caseless:t}=Ot(this)&&this||{},e={},o=(n,s)=>{const i=t&&Pt(e,s)||s;me(e[i])&&me(n)?e[i]=Ve(e[i],n):me(n)?e[i]=Ve({},n):ae(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&fe(arguments[n],o);return e}const yo=(t,e,o,{allOwnKeys:n}={})=>(fe(e,(s,i)=>{o&&q(s)?t[i]=At(s,o):t[i]=s},{allOwnKeys:n}),t),bo=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),vo=(t,e,o,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),o&&Object.assign(t.prototype,o)},wo=(t,e,o,n)=>{let s,i,r;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)r=s[i],(!n||n(r,t,e))&&!a[r]&&(e[r]=t[r],a[r]=!0);t=o!==!1&&st(t)}while(t&&(!o||o(t,e))&&t!==Object.prototype);return e},xo=(t,e,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=e.length;const n=t.indexOf(e,o);return n!==-1&&n===o},So=t=>{if(!t)return null;if(ae(t))return t;let e=t.length;if(!kt(e))return null;const o=new Array(e);for(;e-- >0;)o[e]=t[e];return o},_o=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&st(Uint8Array)),Eo=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Co=(t,e)=>{let o;const n=[];for(;(o=t.exec(e))!==null;)n.push(o);return n},Ro=W("HTMLFormElement"),Ao=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,n,s){return n.toUpperCase()+s}),ut=(({hasOwnProperty:t})=>(e,o)=>t.call(e,o))(Object.prototype),Lo=W("RegExp"),Dt=(t,e)=>{const o=Object.getOwnPropertyDescriptors(t),n={};fe(o,(s,i)=>{let r;(r=e(s,i,t))!==!1&&(n[i]=r||s)}),Object.defineProperties(t,n)},ko=t=>{Dt(t,(e,o)=>{if(q(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const n=t[o];if(q(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Po=(t,e)=>{const o={},n=s=>{s.forEach(i=>{o[i]=!0})};return ae(t)?n(t):n(String(t).split(e)),o},Oo=()=>{},Do=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,He="abcdefghijklmnopqrstuvwxyz",pt="0123456789",Tt={DIGIT:pt,ALPHA:He,ALPHA_DIGIT:He+He.toUpperCase()+pt},To=(t=16,e=Tt.ALPHA_DIGIT)=>{let o="";const{length:n}=e;for(;t--;)o+=e[Math.random()*n|0];return o};function $o(t){return!!(t&&q(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const No=t=>{const e=new Array(10),o=(n,s)=>{if(Be(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=ae(n)?[]:{};return fe(n,(r,a)=>{const p=o(r,s+1);!ue(p)&&(i[a]=p)}),e[s]=void 0,i}}return n};return o(t,0)},Io=W("AsyncFunction"),Bo=t=>t&&(Be(t)||q(t))&&q(t.then)&&q(t.catch),$t=((t,e)=>t?setImmediate:e?((o,n)=>(te.addEventListener("message",({source:s,data:i})=>{s===te&&i===o&&n.length&&n.shift()()},!1),s=>{n.push(s),te.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",q(te.postMessage)),Fo=typeof queueMicrotask<"u"?queueMicrotask.bind(te):typeof process<"u"&&process.nextTick||$t,l={isArray:ae,isArrayBuffer:Lt,isBuffer:eo,isFormData:co,isArrayBufferView:to,isString:no,isNumber:kt,isBoolean:oo,isObject:Be,isPlainObject:me,isReadableStream:po,isRequest:fo,isResponse:ho,isHeaders:mo,isUndefined:ue,isDate:so,isFile:ro,isBlob:io,isRegExp:Lo,isFunction:q,isStream:lo,isURLSearchParams:uo,isTypedArray:_o,isFileList:ao,forEach:fe,merge:Ve,extend:yo,trim:go,stripBOM:bo,inherits:vo,toFlatObject:wo,kindOf:Ne,kindOfTest:W,endsWith:xo,toArray:So,forEachEntry:Eo,matchAll:Co,isHTMLForm:Ro,hasOwnProperty:ut,hasOwnProp:ut,reduceDescriptors:Dt,freezeMethods:ko,toObjectSet:Po,toCamelCase:Ao,noop:Oo,toFiniteNumber:Do,findKey:Pt,global:te,isContextDefined:Ot,ALPHABET:Tt,generateString:To,isSpecCompliantForm:$o,toJSONObject:No,isAsyncFn:Io,isThenable:Bo,setImmediate:$t,asap:Fo};function C(t,e,o,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),o&&(this.config=o),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}l.inherits(C,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.status}}});const Nt=C.prototype,It={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{It[t]={value:t}});Object.defineProperties(C,It);Object.defineProperty(Nt,"isAxiosError",{value:!0});C.from=(t,e,o,n,s,i)=>{const r=Object.create(Nt);return l.toFlatObject(t,r,function(p){return p!==Error.prototype},a=>a!=="isAxiosError"),C.call(r,t.message,e,o,n,s),r.cause=t,r.name=t.name,i&&Object.assign(r,i),r};const Mo=null;function We(t){return l.isPlainObject(t)||l.isArray(t)}function Bt(t){return l.endsWith(t,"[]")?t.slice(0,-2):t}function ft(t,e,o){return t?t.concat(e).map(function(s,i){return s=Bt(s),!o&&i?"["+s+"]":s}).join(o?".":""):e}function Uo(t){return l.isArray(t)&&!t.some(We)}const jo=l.toFlatObject(l,{},null,function(e){return/^is[A-Z]/.test(e)});function Fe(t,e,o){if(!l.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,o=l.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!l.isUndefined(g[m])});const n=o.metaTokens,s=o.visitor||h,i=o.dots,r=o.indexes,p=(o.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(e);if(!l.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(l.isDate(v))return v.toISOString();if(!p&&l.isBlob(v))throw new C("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(v)||l.isTypedArray(v)?p&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,m,g){let _=v;if(v&&!g&&typeof v=="object"){if(l.endsWith(m,"{}"))m=n?m:m.slice(0,-2),v=JSON.stringify(v);else if(l.isArray(v)&&Uo(v)||(l.isFileList(v)||l.endsWith(m,"[]"))&&(_=l.toArray(v)))return m=Bt(m),_.forEach(function(N,$){!(l.isUndefined(N)||N===null)&&e.append(r===!0?ft([m],$,i):r===null?m:m+"[]",u(N))}),!1}return We(v)?!0:(e.append(ft(g,m,i),u(v)),!1)}const b=[],R=Object.assign(jo,{defaultVisitor:h,convertValue:u,isVisitable:We});function P(v,m){if(!l.isUndefined(v)){if(b.indexOf(v)!==-1)throw Error("Circular reference detected in "+m.join("."));b.push(v),l.forEach(v,function(_,O){(!(l.isUndefined(_)||_===null)&&s.call(e,_,l.isString(O)?O.trim():O,m,R))===!0&&P(_,m?m.concat(O):[O])}),b.pop()}}if(!l.isObject(t))throw new TypeError("data must be an object");return P(t),e}function ht(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function rt(t,e){this._pairs=[],t&&Fe(t,this,e)}const Ft=rt.prototype;Ft.append=function(e,o){this._pairs.push([e,o])};Ft.toString=function(e){const o=e?function(n){return e.call(this,n,ht)}:ht;return this._pairs.map(function(s){return o(s[0])+"="+o(s[1])},"").join("&")};function Ho(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mt(t,e,o){if(!e)return t;const n=o&&o.encode||Ho;l.isFunction(o)&&(o={serialize:o});const s=o&&o.serialize;let i;if(s?i=s(e,o):i=l.isURLSearchParams(e)?e.toString():new rt(e,o).toString(n),i){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class zo{constructor(){this.handlers=[]}use(e,o,n){return this.handlers.push({fulfilled:e,rejected:o,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){l.forEach(this.handlers,function(n){n!==null&&e(n)})}}const mt=zo,Ut={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qo=typeof URLSearchParams<"u"?URLSearchParams:rt,Go=typeof FormData<"u"?FormData:null,Vo=typeof Blob<"u"?Blob:null,Wo={isBrowser:!0,classes:{URLSearchParams:qo,FormData:Go,Blob:Vo},protocols:["http","https","file","blob","url","data"]},it=typeof window<"u"&&typeof document<"u",Ye=typeof navigator=="object"&&navigator||void 0,Yo=it&&(!Ye||["ReactNative","NativeScript","NS"].indexOf(Ye.product)<0),Jo=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Xo=it&&window.location.href||"http://localhost",Ko=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:it,hasStandardBrowserEnv:Yo,hasStandardBrowserWebWorkerEnv:Jo,navigator:Ye,origin:Xo},Symbol.toStringTag,{value:"Module"})),M={...Ko,...Wo};function Zo(t,e){return Fe(t,new M.classes.URLSearchParams,Object.assign({visitor:function(o,n,s,i){return M.isNode&&l.isBuffer(o)?(this.append(n,o.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Qo(t){return l.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function es(t){const e={},o=Object.keys(t);let n;const s=o.length;let i;for(n=0;n<s;n++)i=o[n],e[i]=t[i];return e}function jt(t){function e(o,n,s,i){let r=o[i++];if(r==="__proto__")return!0;const a=Number.isFinite(+r),p=i>=o.length;return r=!r&&l.isArray(s)?s.length:r,p?(l.hasOwnProp(s,r)?s[r]=[s[r],n]:s[r]=n,!a):((!s[r]||!l.isObject(s[r]))&&(s[r]=[]),e(o,n,s[r],i)&&l.isArray(s[r])&&(s[r]=es(s[r])),!a)}if(l.isFormData(t)&&l.isFunction(t.entries)){const o={};return l.forEachEntry(t,(n,s)=>{e(Qo(n),s,o,0)}),o}return null}function ts(t,e,o){if(l.isString(t))try{return(e||JSON.parse)(t),l.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(o||JSON.stringify)(t)}const at={transitional:Ut,adapter:["xhr","http","fetch"],transformRequest:[function(e,o){const n=o.getContentType()||"",s=n.indexOf("application/json")>-1,i=l.isObject(e);if(i&&l.isHTMLForm(e)&&(e=new FormData(e)),l.isFormData(e))return s?JSON.stringify(jt(e)):e;if(l.isArrayBuffer(e)||l.isBuffer(e)||l.isStream(e)||l.isFile(e)||l.isBlob(e)||l.isReadableStream(e))return e;if(l.isArrayBufferView(e))return e.buffer;if(l.isURLSearchParams(e))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Zo(e,this.formSerializer).toString();if((a=l.isFileList(e))||n.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Fe(a?{"files[]":e}:e,p&&new p,this.formSerializer)}}return i||s?(o.setContentType("application/json",!1),ts(e)):e}],transformResponse:[function(e){const o=this.transitional||at.transitional,n=o&&o.forcedJSONParsing,s=this.responseType==="json";if(l.isResponse(e)||l.isReadableStream(e))return e;if(e&&l.isString(e)&&(n&&!this.responseType||s)){const r=!(o&&o.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(r)throw a.name==="SyntaxError"?C.from(a,C.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:M.classes.FormData,Blob:M.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],t=>{at.headers[t]={}});const lt=at,ns=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),os=t=>{const e={};let o,n,s;return t&&t.split(`
`).forEach(function(r){s=r.indexOf(":"),o=r.substring(0,s).trim().toLowerCase(),n=r.substring(s+1).trim(),!(!o||e[o]&&ns[o])&&(o==="set-cookie"?e[o]?e[o].push(n):e[o]=[n]:e[o]=e[o]?e[o]+", "+n:n)}),e},gt=Symbol("internals");function ce(t){return t&&String(t).trim().toLowerCase()}function ge(t){return t===!1||t==null?t:l.isArray(t)?t.map(ge):String(t)}function ss(t){const e=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=o.exec(t);)e[n[1]]=n[2];return e}const rs=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ze(t,e,o,n,s){if(l.isFunction(n))return n.call(this,e,o);if(s&&(e=o),!!l.isString(e)){if(l.isString(n))return e.indexOf(n)!==-1;if(l.isRegExp(n))return n.test(e)}}function is(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,o,n)=>o.toUpperCase()+n)}function as(t,e){const o=l.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+o,{value:function(s,i,r){return this[n].call(this,e,s,i,r)},configurable:!0})})}class Me{constructor(e){e&&this.set(e)}set(e,o,n){const s=this;function i(a,p,u){const h=ce(p);if(!h)throw new Error("header name must be a non-empty string");const b=l.findKey(s,h);(!b||s[b]===void 0||u===!0||u===void 0&&s[b]!==!1)&&(s[b||p]=ge(a))}const r=(a,p)=>l.forEach(a,(u,h)=>i(u,h,p));if(l.isPlainObject(e)||e instanceof this.constructor)r(e,o);else if(l.isString(e)&&(e=e.trim())&&!rs(e))r(os(e),o);else if(l.isHeaders(e))for(const[a,p]of e.entries())i(p,a,n);else e!=null&&i(o,e,n);return this}get(e,o){if(e=ce(e),e){const n=l.findKey(this,e);if(n){const s=this[n];if(!o)return s;if(o===!0)return ss(s);if(l.isFunction(o))return o.call(this,s,n);if(l.isRegExp(o))return o.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,o){if(e=ce(e),e){const n=l.findKey(this,e);return!!(n&&this[n]!==void 0&&(!o||ze(this,this[n],n,o)))}return!1}delete(e,o){const n=this;let s=!1;function i(r){if(r=ce(r),r){const a=l.findKey(n,r);a&&(!o||ze(n,n[a],a,o))&&(delete n[a],s=!0)}}return l.isArray(e)?e.forEach(i):i(e),s}clear(e){const o=Object.keys(this);let n=o.length,s=!1;for(;n--;){const i=o[n];(!e||ze(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const o=this,n={};return l.forEach(this,(s,i)=>{const r=l.findKey(n,i);if(r){o[r]=ge(s),delete o[i];return}const a=e?is(i):String(i).trim();a!==i&&delete o[i],o[a]=ge(s),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const o=Object.create(null);return l.forEach(this,(n,s)=>{n!=null&&n!==!1&&(o[s]=e&&l.isArray(n)?n.join(", "):n)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,o])=>e+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...o){const n=new this(e);return o.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[gt]=this[gt]={accessors:{}}).accessors,s=this.prototype;function i(r){const a=ce(r);n[a]||(as(s,r),n[a]=!0)}return l.isArray(e)?e.forEach(i):i(e),this}}Me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(Me.prototype,({value:t},e)=>{let o=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[o]=n}}});l.freezeMethods(Me);const V=Me;function qe(t,e){const o=this||lt,n=e||o,s=V.from(n.headers);let i=n.data;return l.forEach(t,function(a){i=a.call(o,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Ht(t){return!!(t&&t.__CANCEL__)}function le(t,e,o){C.call(this,t??"canceled",C.ERR_CANCELED,e,o),this.name="CanceledError"}l.inherits(le,C,{__CANCEL__:!0});function zt(t,e,o){const n=o.config.validateStatus;!o.status||!n||n(o.status)?t(o):e(new C("Request failed with status code "+o.status,[C.ERR_BAD_REQUEST,C.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function ls(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function cs(t,e){t=t||10;const o=new Array(t),n=new Array(t);let s=0,i=0,r;return e=e!==void 0?e:1e3,function(p){const u=Date.now(),h=n[i];r||(r=u),o[s]=p,n[s]=u;let b=i,R=0;for(;b!==s;)R+=o[b++],b=b%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-r<e)return;const P=h&&u-h;return P?Math.round(R*1e3/P):void 0}}function ds(t,e){let o=0,n=1e3/e,s,i;const r=(u,h=Date.now())=>{o=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),b=h-o;b>=n?r(u,h):(s=u,i||(i=setTimeout(()=>{i=null,r(s)},n-b)))},()=>s&&r(s)]}const ve=(t,e,o=3)=>{let n=0;const s=cs(50,250);return ds(i=>{const r=i.loaded,a=i.lengthComputable?i.total:void 0,p=r-n,u=s(p),h=r<=a;n=r;const b={loaded:r,total:a,progress:a?r/a:void 0,bytes:p,rate:u||void 0,estimated:u&&a&&h?(a-r)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(b)},o)},yt=(t,e)=>{const o=t!=null;return[n=>e[0]({lengthComputable:o,total:t,loaded:n}),e[1]]},bt=t=>(...e)=>l.asap(()=>t(...e)),us=M.hasStandardBrowserEnv?((t,e)=>o=>(o=new URL(o,M.origin),t.protocol===o.protocol&&t.host===o.host&&(e||t.port===o.port)))(new URL(M.origin),M.navigator&&/(msie|trident)/i.test(M.navigator.userAgent)):()=>!0,ps=M.hasStandardBrowserEnv?{write(t,e,o,n,s,i){const r=[t+"="+encodeURIComponent(e)];l.isNumber(o)&&r.push("expires="+new Date(o).toGMTString()),l.isString(n)&&r.push("path="+n),l.isString(s)&&r.push("domain="+s),i===!0&&r.push("secure"),document.cookie=r.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fs(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function qt(t,e){return t&&!fs(e)?hs(t,e):e}const vt=t=>t instanceof V?{...t}:t;function oe(t,e){e=e||{};const o={};function n(u,h,b,R){return l.isPlainObject(u)&&l.isPlainObject(h)?l.merge.call({caseless:R},u,h):l.isPlainObject(h)?l.merge({},h):l.isArray(h)?h.slice():h}function s(u,h,b,R){if(l.isUndefined(h)){if(!l.isUndefined(u))return n(void 0,u,b,R)}else return n(u,h,b,R)}function i(u,h){if(!l.isUndefined(h))return n(void 0,h)}function r(u,h){if(l.isUndefined(h)){if(!l.isUndefined(u))return n(void 0,u)}else return n(void 0,h)}function a(u,h,b){if(b in e)return n(u,h);if(b in t)return n(void 0,u)}const p={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(u,h,b)=>s(vt(u),vt(h),b,!0)};return l.forEach(Object.keys(Object.assign({},t,e)),function(h){const b=p[h]||s,R=b(t[h],e[h],h);l.isUndefined(R)&&b!==a||(o[h]=R)}),o}const Gt=t=>{const e=oe({},t);let{data:o,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:r,auth:a}=e;e.headers=r=V.from(r),e.url=Mt(qt(e.baseURL,e.url),t.params,t.paramsSerializer),a&&r.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let p;if(l.isFormData(o)){if(M.hasStandardBrowserEnv||M.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((p=r.getContentType())!==!1){const[u,...h]=p?p.split(";").map(b=>b.trim()).filter(Boolean):[];r.setContentType([u||"multipart/form-data",...h].join("; "))}}if(M.hasStandardBrowserEnv&&(n&&l.isFunction(n)&&(n=n(e)),n||n!==!1&&us(e.url))){const u=s&&i&&ps.read(i);u&&r.set(s,u)}return e},ms=typeof XMLHttpRequest<"u",gs=ms&&function(t){return new Promise(function(o,n){const s=Gt(t);let i=s.data;const r=V.from(s.headers).normalize();let{responseType:a,onUploadProgress:p,onDownloadProgress:u}=s,h,b,R,P,v;function m(){P&&P(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function _(){if(!g)return;const N=V.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:N,config:t,request:g};zt(function(d){o(d),m()},function(d){n(d),m()},D),g=null}"onloadend"in g?g.onloadend=_:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(_)},g.onabort=function(){g&&(n(new C("Request aborted",C.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new C("Network Error",C.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let $=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||Ut;s.timeoutErrorMessage&&($=s.timeoutErrorMessage),n(new C($,D.clarifyTimeoutError?C.ETIMEDOUT:C.ECONNABORTED,t,g)),g=null},i===void 0&&r.setContentType(null),"setRequestHeader"in g&&l.forEach(r.toJSON(),function($,D){g.setRequestHeader(D,$)}),l.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),a&&a!=="json"&&(g.responseType=s.responseType),u&&([R,v]=ve(u,!0),g.addEventListener("progress",R)),p&&g.upload&&([b,P]=ve(p),g.upload.addEventListener("progress",b),g.upload.addEventListener("loadend",P)),(s.cancelToken||s.signal)&&(h=N=>{g&&(n(!N||N.type?new le(null,t,g):N),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const O=ls(s.url);if(O&&M.protocols.indexOf(O)===-1){n(new C("Unsupported protocol "+O+":",C.ERR_BAD_REQUEST,t));return}g.send(i||null)})},ys=(t,e)=>{const{length:o}=t=t?t.filter(Boolean):[];if(e||o){let n=new AbortController,s;const i=function(u){if(!s){s=!0,a();const h=u instanceof Error?u:this.reason;n.abort(h instanceof C?h:new le(h instanceof Error?h.message:h))}};let r=e&&setTimeout(()=>{r=null,i(new C(`timeout ${e} of ms exceeded`,C.ETIMEDOUT))},e);const a=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:p}=n;return p.unsubscribe=()=>l.asap(a),p}},bs=ys,vs=function*(t,e){let o=t.byteLength;if(!e||o<e){yield t;return}let n=0,s;for(;n<o;)s=n+e,yield t.slice(n,s),n=s},ws=async function*(t,e){for await(const o of xs(t))yield*vs(o,e)},xs=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:o,value:n}=await e.read();if(o)break;yield n}}finally{await e.cancel()}},wt=(t,e,o,n)=>{const s=ws(t,e);let i=0,r,a=p=>{r||(r=!0,n&&n(p))};return new ReadableStream({async pull(p){try{const{done:u,value:h}=await s.next();if(u){a(),p.close();return}let b=h.byteLength;if(o){let R=i+=b;o(R)}p.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(p){return a(p),s.return()}},{highWaterMark:2})},Ue=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vt=Ue&&typeof ReadableStream=="function",Ss=Ue&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Wt=(t,...e)=>{try{return!!t(...e)}catch{return!1}},_s=Vt&&Wt(()=>{let t=!1;const e=new Request(M.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),xt=64*1024,Je=Vt&&Wt(()=>l.isReadableStream(new Response("").body)),we={stream:Je&&(t=>t.body)};Ue&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!we[e]&&(we[e]=l.isFunction(t[e])?o=>o[e]():(o,n)=>{throw new C(`Response type '${e}' is not supported`,C.ERR_NOT_SUPPORT,n)})})})(new Response);const Es=async t=>{if(t==null)return 0;if(l.isBlob(t))return t.size;if(l.isSpecCompliantForm(t))return(await new Request(M.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(l.isArrayBufferView(t)||l.isArrayBuffer(t))return t.byteLength;if(l.isURLSearchParams(t)&&(t=t+""),l.isString(t))return(await Ss(t)).byteLength},Cs=async(t,e)=>{const o=l.toFiniteNumber(t.getContentLength());return o??Es(e)},Rs=Ue&&(async t=>{let{url:e,method:o,data:n,signal:s,cancelToken:i,timeout:r,onDownloadProgress:a,onUploadProgress:p,responseType:u,headers:h,withCredentials:b="same-origin",fetchOptions:R}=Gt(t);u=u?(u+"").toLowerCase():"text";let P=bs([s,i&&i.toAbortSignal()],r),v;const m=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let g;try{if(p&&_s&&o!=="get"&&o!=="head"&&(g=await Cs(h,n))!==0){let D=new Request(e,{method:"POST",body:n,duplex:"half"}),I;if(l.isFormData(n)&&(I=D.headers.get("content-type"))&&h.setContentType(I),D.body){const[d,y]=yt(g,ve(bt(p)));n=wt(D.body,xt,d,y)}}l.isString(b)||(b=b?"include":"omit");const _="credentials"in Request.prototype;v=new Request(e,{...R,signal:P,method:o.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:_?b:void 0});let O=await fetch(v);const N=Je&&(u==="stream"||u==="response");if(Je&&(a||N&&m)){const D={};["status","statusText","headers"].forEach(f=>{D[f]=O[f]});const I=l.toFiniteNumber(O.headers.get("content-length")),[d,y]=a&&yt(I,ve(bt(a),!0))||[];O=new Response(wt(O.body,xt,d,()=>{y&&y(),m&&m()}),D)}u=u||"text";let $=await we[l.findKey(we,u)||"text"](O,t);return!N&&m&&m(),await new Promise((D,I)=>{zt(D,I,{data:$,headers:V.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:v})})}catch(_){throw m&&m(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new C("Network Error",C.ERR_NETWORK,t,v),{cause:_.cause||_}):C.from(_,_&&_.code,t,v)}}),Xe={http:Mo,xhr:gs,fetch:Rs};l.forEach(Xe,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const St=t=>`- ${t}`,As=t=>l.isFunction(t)||t===null||t===!1,Yt={getAdapter:t=>{t=l.isArray(t)?t:[t];const{length:e}=t;let o,n;const s={};for(let i=0;i<e;i++){o=t[i];let r;if(n=o,!As(o)&&(n=Xe[(r=String(o)).toLowerCase()],n===void 0))throw new C(`Unknown adapter '${r}'`);if(n)break;s[r||"#"+i]=n}if(!n){const i=Object.entries(s).map(([a,p])=>`adapter ${a} `+(p===!1?"is not supported by the environment":"is not available in the build"));let r=e?i.length>1?`since :
`+i.map(St).join(`
`):" "+St(i[0]):"as no adapter specified";throw new C("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:Xe};function Ge(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new le(null,t)}function _t(t){return Ge(t),t.headers=V.from(t.headers),t.data=qe.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Yt.getAdapter(t.adapter||lt.adapter)(t).then(function(n){return Ge(t),n.data=qe.call(t,t.transformResponse,n),n.headers=V.from(n.headers),n},function(n){return Ht(n)||(Ge(t),n&&n.response&&(n.response.data=qe.call(t,t.transformResponse,n.response),n.response.headers=V.from(n.response.headers))),Promise.reject(n)})}const Jt="1.7.9",je={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{je[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Et={};je.transitional=function(e,o,n){function s(i,r){return"[Axios v"+Jt+"] Transitional option '"+i+"'"+r+(n?". "+n:"")}return(i,r,a)=>{if(e===!1)throw new C(s(r," has been removed"+(o?" in "+o:"")),C.ERR_DEPRECATED);return o&&!Et[r]&&(Et[r]=!0,console.warn(s(r," has been deprecated since v"+o+" and will be removed in the near future"))),e?e(i,r,a):!0}};je.spelling=function(e){return(o,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Ls(t,e,o){if(typeof t!="object")throw new C("options must be an object",C.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],r=e[i];if(r){const a=t[i],p=a===void 0||r(a,i,t);if(p!==!0)throw new C("option "+i+" must be "+p,C.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new C("Unknown option "+i,C.ERR_BAD_OPTION)}}const ye={assertOptions:Ls,validators:je},Y=ye.validators;class xe{constructor(e){this.defaults=e,this.interceptors={request:new mt,response:new mt}}async request(e,o){try{return await this._request(e,o)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,o){typeof e=="string"?(o=o||{},o.url=e):o=e||{},o=oe(this.defaults,o);const{transitional:n,paramsSerializer:s,headers:i}=o;n!==void 0&&ye.assertOptions(n,{silentJSONParsing:Y.transitional(Y.boolean),forcedJSONParsing:Y.transitional(Y.boolean),clarifyTimeoutError:Y.transitional(Y.boolean)},!1),s!=null&&(l.isFunction(s)?o.paramsSerializer={serialize:s}:ye.assertOptions(s,{encode:Y.function,serialize:Y.function},!0)),ye.assertOptions(o,{baseUrl:Y.spelling("baseURL"),withXsrfToken:Y.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let r=i&&l.merge(i.common,i[o.method]);i&&l.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),o.headers=V.concat(r,i);const a=[];let p=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(o)===!1||(p=p&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let h,b=0,R;if(!p){const v=[_t.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),R=v.length,h=Promise.resolve(o);b<R;)h=h.then(v[b++],v[b++]);return h}R=a.length;let P=o;for(b=0;b<R;){const v=a[b++],m=a[b++];try{P=v(P)}catch(g){m.call(this,g);break}}try{h=_t.call(this,P)}catch(v){return Promise.reject(v)}for(b=0,R=u.length;b<R;)h=h.then(u[b++],u[b++]);return h}getUri(e){e=oe(this.defaults,e);const o=qt(e.baseURL,e.url);return Mt(o,e.params,e.paramsSerializer)}}l.forEach(["delete","get","head","options"],function(e){xe.prototype[e]=function(o,n){return this.request(oe(n||{},{method:e,url:o,data:(n||{}).data}))}});l.forEach(["post","put","patch"],function(e){function o(n){return function(i,r,a){return this.request(oe(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}xe.prototype[e]=o(),xe.prototype[e+"Form"]=o(!0)});const be=xe;class ct{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(i){o=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const r=new Promise(a=>{n.subscribe(a),i=a}).then(s);return r.cancel=function(){n.unsubscribe(i)},r},e(function(i,r,a){n.reason||(n.reason=new le(i,r,a),o(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const o=this._listeners.indexOf(e);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const e=new AbortController,o=n=>{e.abort(n)};return this.subscribe(o),e.signal.unsubscribe=()=>this.unsubscribe(o),e.signal}static source(){let e;return{token:new ct(function(s){e=s}),cancel:e}}}const ks=ct;function Ps(t){return function(o){return t.apply(null,o)}}function Os(t){return l.isObject(t)&&t.isAxiosError===!0}const Ke={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ke).forEach(([t,e])=>{Ke[e]=t});const Ds=Ke;function Xt(t){const e=new be(t),o=At(be.prototype.request,e);return l.extend(o,be.prototype,e,{allOwnKeys:!0}),l.extend(o,e,null,{allOwnKeys:!0}),o.create=function(s){return Xt(oe(t,s))},o}const B=Xt(lt);B.Axios=be;B.CanceledError=le;B.CancelToken=ks;B.isCancel=Ht;B.VERSION=Jt;B.toFormData=Fe;B.AxiosError=C;B.Cancel=B.CanceledError;B.all=function(e){return Promise.all(e)};B.spread=Ps;B.isAxiosError=Os;B.mergeConfig=oe;B.AxiosHeaders=V;B.formToJSON=t=>jt(l.isHTMLForm(t)?new FormData(t):t);B.getAdapter=Yt.getAdapter;B.HttpStatusCode=Ds;B.default=B;const Ze=B;const Ts={name:"ScatterPlotChart",data(){return{allData:[],selectedRegions:[],availableRegions:[],chart:null,regionColors:{Oceania:"#21aa49",Africa:"#020307",Europe:"#0881c2",Americas:"#e31c22",Asia:"#f6d007"}}},mounted(){this.loadDataAndRenderChart()},beforeDestroy(){this.chart&&this.chart.dispose()},methods:{async loadDataAndRenderChart(){try{const e=(await Ze.get("data/GNH_2023.csv")).data,o=this.parseCSV(e);this.allData=o,this.availableRegions=[...new Set(o.map(n=>n.region).filter(Boolean))],this.selectedRegions=[...this.availableRegions],this.initializeChart(),this.updateChart()}catch(t){console.error("Error loading data:",t)}},parseCSV(t){const e=t.split(`
`),o=e[0].split(",");return e.slice(1).map(s=>{const i=s.split(",").map(a=>a===""?null:a.trim());for(;i.length<o.length;)i.push(null);const r=o.reduce((a,p,u)=>(a[p.trim()]=i[u],a),{});return{name:r["Country name"]||null,year:r.year||null,lifeLadder:r["Life Ladder"]?parseFloat(r["Life Ladder"]):null,logGDP:r["Log GDP per capita"]?parseFloat(r["Log GDP per capita"]):null,socialSupport:r["Social support"]?parseFloat(r["Social support"]):null,healthyLife:r["Healthy life expectancy at birth"]?parseFloat(r["Healthy life expectancy at birth"]):null,freedom:r["Freedom to make life choices"]?parseFloat(r["Freedom to make life choices"]):null,generosity:r.Generosity?parseFloat(r.Generosity):null,corruption:r["Perceptions of corruption"]?parseFloat(r["Perceptions of corruption"]):null,positiveAffect:r["Positive affect"]?parseFloat(r["Positive affect"]):null,negativeAffect:r["Negative affect"]?parseFloat(r["Negative affect"]):null,region:r.Region||null,code:r["Country Code"]||null,population:r[2021]?parseInt(r[2021],10):null}})},initializeChart(){this.chart=Rt(document.getElementById("scatterplot"));const t={Oceania:new J(0,0,0,1,[{offset:0,color:"#2ecc71"},{offset:1,color:"#27ae60"}]),Africa:new J(0,0,0,1,[{offset:0,color:"#34495e"},{offset:1,color:"#2c3e50"}]),Europe:new J(0,0,0,1,[{offset:0,color:"#3498db"},{offset:1,color:"#2980b9"}]),Americas:new J(0,0,0,1,[{offset:0,color:"#e74c3c"},{offset:1,color:"#c0392b"}]),Asia:new J(0,0,0,1,[{offset:0,color:"#f1c40f"},{offset:1,color:"#f39c12"}])},e={hideOverlap:!0,moveOverlap:"shiftX"},o=this.allData.map(n=>({value:[n.logGDP,n.lifeLadder],symbolSize:n.population?Math.sqrt(Math.sqrt(n.population))/2:10,itemStyle:{color:t[n.region]||"#cccccc",opacity:this.selectedRegions.includes(n.region)?1:0,borderColor:"#fff",borderWidth:.1,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.2)"},label:{show:!1,color:"gray",position:"top",distance:5,formatter:n.code},originalData:n,z:n.population?Math.sqrt(n.population):1}));this.chart.setOption({backgroundColor:"#f8f9fa",animation:!0,animationDuration:500,animationEasing:"quadraticInOut",animationThreshold:2e3,title:{text:"",left:"center",top:"top",textStyle:{color:"#2c3e50",fontSize:20,fontWeight:"bold"}},grid:{left:"10%",right:"10%",top:"10%",bottom:"10%",containLabel:!0},xAxis:{name:"Log GDP per Capita",type:"value",min:7,max:12,nameTextStyle:{color:"#2c3e50",fontSize:14,align:"center",verticalAlign:"top",padding:[30,0,0,-30],fontWeight:"bold"},axisLabel:{color:"#2c3e50",fontSize:12},splitLine:{lineStyle:{color:"rgba(0,0,0,0.1)",type:"dashed"}}},yAxis:{name:"Life Ladder",type:"value",min:2,nameTextStyle:{color:"#2c3e50",fontSize:14,fontWeight:"bold"},axisLabel:{color:"#2c3e50",fontSize:12},splitLine:{lineStyle:{color:"rgba(0,0,0,0.1)",type:"dashed"}}},tooltip:{trigger:"item",backgroundColor:"rgba(255,255,255,0.9)",borderWidth:1,padding:10,textStyle:{color:"#333"},formatter:function(n){var r;const s=n.data.originalData;return`
              <div style="font-weight:bold; border-left: 4px solid ${n.data.itemStyle.color}; padding-left: 8px;">
                ${s.name} (${s.code})
              </div>
              <div>Region: ${s.region}</div>
              <div>Log GDP: ${n.value[0].toFixed(2)}</div>
              <div>Life Ladder: ${n.value[1].toFixed(2)}</div>
              <div>Population: ${(r=s.population)==null?void 0:r.toLocaleString()}</div>
            `}},legend:{data:Object.keys(t),textStyle:{color:"#2c3e50"},selectedMode:!1,bottom:10},series:[{type:"scatter",data:o,label:{show:!1,color:"#2c3e50",fontSize:10,fontWeight:"bold",formatter:function(n){return n.data.itemStyle.opacity===0||n.data.labelLayout.hideOverlap?"":n.data.originalData.code},position:"top",distance:5},labelLayout:e,emphasis:{focus:"self",scale:1.1,scaleSize:5,transition:["itemStyle","opacity","symbolSize"].map(n=>`${n}:800`).join(","),label:{show:!1,formatter:function(n){return""}},itemStyle:{shadowBlur:20,shadowColor:"rgba(0,0,0,0.3)",opacity:1,color:void 0}}}]}),this.chart.on("mouseover",{seriesIndex:0},n=>{n.data.itemStyle.opacity>0&&this.chart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:n.dataIndex})}),this.chart.on("mouseout",{seriesIndex:0},n=>{this.chart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:n.dataIndex})}),window.addEventListener("resize",()=>{var n;(n=this.chart)==null||n.resize()})},toggleRegion(t){const e=this.selectedRegions.indexOf(t);e>-1?this.selectedRegions.splice(e,1):this.selectedRegions.push(t),this.updateChart()},determineVisibleLabels(t){const o={},n=t.map((a,p)=>p).sort((a,p)=>(t[p].originalData.population||0)-(t[a].originalData.population||0)),s=new Set,i=20,r=1e7;for(const a of n){const p=t[a];if(p.itemStyle.opacity===0)continue;const[u,h]=p.value,b=p.originalData.population||0;if(p.originalData.code.length*8,b>r){s.add(a);continue}const R=Math.floor(u/50),P=Math.floor(h/50);let v=!1;for(let m=-1;m<=1;m++){for(let g=-1;g<=1;g++){const _=`${R+m},${P+g}`;if(o[_]&&Math.sqrt(Math.pow(u-o[_].x,2)+Math.pow(h-o[_].y,2))<i*1.5){v=!0;break}}if(v)break}v||(s.add(a),o[`${R},${P}`]={x:u,y:h})}return s},updateChart(){const e=this.allData.filter(n=>this.selectedRegions.includes(n.region)).map(n=>({value:[n.logGDP,n.lifeLadder],symbolSize:n.population?Math.sqrt(Math.sqrt(n.population))/2:10,itemStyle:{color:this.regionColors[n.region]||"#cccccc",opacity:1,borderColor:"#fff",borderWidth:.1,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.2)"},label:{show:!1,color:"#2c3e50",position:"top",distance:5,formatter:n.code},originalData:n,z:n.population?Math.sqrt(n.population):1})),o=this.determineVisibleLabels(e);e.forEach((n,s)=>{const i=n.originalData.population||0;n.label={...n.label,show:o.has(s),fontSize:i>5e7?14:10}}),this.chart.setOption({animation:!0,animationDuration:500,animationDurationUpdate:500,animationEasing:"quadraticInOut",animationEasingUpdate:"quadraticInOut",animationThreshold:2e3,series:[{data:e,universalTransition:{enabled:!0,delay:function(n,s){return n*50},duration:function(n,s){return this.selectedRegions.includes(e[n].originalData.region)?1200:600}},emphasis:{focus:"self",scale:1.1,scaleSize:5,transition:["itemStyle","opacity","symbolSize"].map(n=>`${n}:800`).join(","),label:{show:!1,formatter:function(n){return""}},itemStyle:{shadowBlur:20,shadowColor:"rgba(0,0,0,0.3)",opacity:1,color:void 0}}}]})}}},$s={class:"region-selector flex"},Ns=["onClick"],Is={class:"ml-1"};function Bs(t,e,o,n,s,i){return L(),T("div",null,[c("div",$s,[e[0]||(e[0]=c("label",null,[c("strong",null,"Select Regions:")],-1)),(L(!0),T(pe,null,Se(s.availableRegions,r=>(L(),T("div",{key:r,class:"region-checkbox"},[c("div",{style:Ee({backgroundColor:s.regionColors[r]||"#cccccc"}),class:"region-color-block",onClick:a=>i.toggleRegion(r)},null,12,Ns),c("span",Is,ne(r),1)]))),128))]),e[1]||(e[1]=c("div",{id:"scatterplot",class:"scatterplot-container"},null,-1))])}const Fs=U(Ts,[["render",Bs]]);const Ms={name:"ScatterPlotChart",data(){return{allData:[],selectedRegions:[],availableRegions:[],chart:null,regionColors:{Oceania:"#21aa49",Africa:"#020307",Europe:"#0881c2",Americas:"#e31c22",Asia:"#f6d007"}}},mounted(){this.loadDataAndRenderChart()},beforeDestroy(){this.chart&&this.chart.dispose()},methods:{async loadDataAndRenderChart(){try{const[t,e]=await Promise.all([Ze.get("data/GNH_2023.csv"),Ze.get("data/life-expectancy.csv")]),o=this.parseCSV(t.data),n=this.parseLifeExpectancyCSV(e.data);this.allData=o.filter(s=>s.year==="2023").map(s=>{if(!s.code)return null;const i=n.find(r=>r.code===s.code);return i?{...s,lifeExpectancy:i.lifeExpectancy}:null}).filter(Boolean),this.availableRegions=[...new Set(this.allData.map(s=>s.region).filter(Boolean))],this.selectedRegions=[...this.availableRegions],this.initializeChart(),this.updateChart()}catch(t){console.error("Error loading data:",t)}},parseCSV(t){const e=t.split(`
`),o=e[0].split(",");return e.slice(1).map(s=>{const i=s.split(",").map(a=>a===""?null:a.trim());for(;i.length<o.length;)i.push(null);const r=o.reduce((a,p,u)=>(a[p.trim()]=i[u],a),{});return{name:r["Country name"]||null,year:r.year||null,logGDP:r["Log GDP per capita"]?parseFloat(r["Log GDP per capita"]):null,socialSupport:r["Social support"]?parseFloat(r["Social support"]):null,freedom:r["Freedom to make life choices"]?parseFloat(r["Freedom to make life choices"]):null,generosity:r.Generosity?parseFloat(r.Generosity):null,corruption:r["Perceptions of corruption"]?parseFloat(r["Perceptions of corruption"]):null,positiveAffect:r["Positive affect"]?parseFloat(r["Positive affect"]):null,negativeAffect:r["Negative affect"]?parseFloat(r["Negative affect"]):null,region:r.Region||null,code:r["Country Code"]||null,population:r[2021]?parseInt(r[2021],10):null}})},parseLifeExpectancyCSV(t){const e=t.split(`
`),n=e[0].split(",").indexOf("2021");return e.slice(1).map(i=>{const r=i.split(",").map(a=>a===""?null:a.trim());return{code:r[3],lifeExpectancy:r[n]?parseFloat(r[n]):null}})},initializeChart(){this.chart=Rt(document.getElementById("scatterplot"));const t={Oceania:new J(0,0,0,1,[{offset:0,color:"#2ecc71"},{offset:1,color:"#27ae60"}]),Africa:new J(0,0,0,1,[{offset:0,color:"#34495e"},{offset:1,color:"#2c3e50"}]),Europe:new J(0,0,0,1,[{offset:0,color:"#3498db"},{offset:1,color:"#2980b9"}]),Americas:new J(0,0,0,1,[{offset:0,color:"#e74c3c"},{offset:1,color:"#c0392b"}]),Asia:new J(0,0,0,1,[{offset:0,color:"#f1c40f"},{offset:1,color:"#f39c12"}])},e={hideOverlap:!0,moveOverlap:"shiftX"},o=this.allData.map(n=>({value:[n.logGDP,n.lifeExpectancy],symbolSize:n.population?Math.sqrt(Math.sqrt(n.population))/2:10,itemStyle:{color:t[n.region]||"#cccccc",opacity:this.selectedRegions.includes(n.region)?1:0,borderColor:"#fff",borderWidth:.1,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.2)"},label:{show:!1,color:"gray",position:"top",distance:5,formatter:n.code},originalData:n,z:n.population?Math.sqrt(n.population):1}));this.chart.setOption({backgroundColor:"#f8f9fa",animation:!0,animationDuration:500,animationEasing:"quadraticInOut",animationThreshold:2e3,title:{text:"",left:"center",top:"top",textStyle:{color:"#2c3e50",fontSize:20,fontWeight:"bold"}},grid:{left:"10%",right:"10%",top:"10%",bottom:"10%",containLabel:!0},xAxis:{name:"Log GDP per Capita",type:"value",min:7,max:12,nameTextStyle:{color:"#2c3e50",fontSize:14,align:"center",verticalAlign:"top",padding:[30,0,0,-30],fontWeight:"bold"},axisLabel:{color:"#2c3e50",fontSize:12},splitLine:{lineStyle:{color:"rgba(0,0,0,0.1)",type:"dashed"}}},yAxis:{name:"Life expectancy",type:"value",min:50,max:90,nameTextStyle:{color:"#2c3e50",fontSize:14,fontWeight:"bold"},axisLabel:{color:"#2c3e50",fontSize:12},splitLine:{lineStyle:{color:"rgba(0,0,0,0.1)",type:"dashed"}}},tooltip:{trigger:"item",backgroundColor:"rgba(255,255,255,0.9)",borderWidth:1,padding:10,textStyle:{color:"#333"},formatter:function(n){var r;const s=n.data.originalData;return`
                <div style="font-weight:bold; border-left: 4px solid ${n.data.itemStyle.color}; padding-left: 8px;">
                  ${s.name} (${s.code})
                </div>
                <div>Region: ${s.region}</div>
                <div>Log GDP: ${n.value[0].toFixed(2)}</div>
                <div>Life expectancy: ${n.value[1].toFixed(2)} years old</div>
                <div>Population: ${(r=s.population)==null?void 0:r.toLocaleString()}</div>
              `}},legend:{data:Object.keys(t),textStyle:{color:"#2c3e50"},selectedMode:!1,bottom:10},series:[{type:"scatter",data:o,label:{show:!1,color:"#2c3e50",fontSize:10,fontWeight:"bold",formatter:function(n){return n.data.itemStyle.opacity===0||n.data.labelLayout.hideOverlap?"":n.data.originalData.code},position:"top",distance:5},labelLayout:e,emphasis:{focus:"self",scale:1.1,scaleSize:5,transition:["itemStyle","opacity","symbolSize"].map(n=>`${n}:800`).join(","),label:{show:!1,formatter:function(n){return""}},itemStyle:{shadowBlur:20,shadowColor:"rgba(0,0,0,0.3)",opacity:1,color:void 0}}}]}),this.chart.on("mouseover",{seriesIndex:0},n=>{n.data.itemStyle.opacity>0&&this.chart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:n.dataIndex})}),this.chart.on("mouseout",{seriesIndex:0},n=>{this.chart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:n.dataIndex})}),window.addEventListener("resize",()=>{var n;(n=this.chart)==null||n.resize()})},toggleRegion(t){const e=this.selectedRegions.indexOf(t);e>-1?this.selectedRegions.splice(e,1):this.selectedRegions.push(t),this.updateChart()},determineVisibleLabels(t){const o={},n=t.map((a,p)=>p).sort((a,p)=>(t[p].originalData.population||0)-(t[a].originalData.population||0)),s=new Set,i=20,r=1e7;for(const a of n){const p=t[a];if(p.itemStyle.opacity===0)continue;const[u,h]=p.value,b=p.originalData.population||0;if(p.originalData.code.length*8,b>r){s.add(a);continue}const R=Math.floor(u/50),P=Math.floor(h/50);let v=!1;for(let m=-1;m<=1;m++){for(let g=-1;g<=1;g++){const _=`${R+m},${P+g}`;if(o[_]&&Math.sqrt(Math.pow(u-o[_].x,2)+Math.pow(h-o[_].y,2))<i*1.5){v=!0;break}}if(v)break}v||(s.add(a),o[`${R},${P}`]={x:u,y:h})}return s},updateChart(){const e=this.allData.filter(n=>this.selectedRegions.includes(n.region)).map(n=>({value:[n.logGDP,n.lifeExpectancy],symbolSize:n.population?Math.sqrt(Math.sqrt(n.population))/2:10,itemStyle:{color:this.regionColors[n.region]||"#cccccc",opacity:1,borderColor:"#fff",borderWidth:.1,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.2)"},label:{show:!1,color:"#2c3e50",position:"top",distance:5,formatter:n.code},originalData:n,z:n.population?Math.sqrt(n.population):1})),o=this.determineVisibleLabels(e);e.forEach((n,s)=>{const i=n.originalData.population||0;n.label={...n.label,show:o.has(s),fontSize:i>5e7?14:10}}),this.chart.setOption({animation:!0,animationDuration:500,animationDurationUpdate:500,animationEasing:"quadraticInOut",animationEasingUpdate:"quadraticInOut",animationThreshold:2e3,series:[{data:e,universalTransition:{enabled:!0,delay:function(n,s){return n*50},duration:function(n,s){return this.selectedRegions.includes(e[n].originalData.region)?1200:600}},emphasis:{focus:"self",scale:1.1,scaleSize:5,transition:["itemStyle","opacity","symbolSize"].map(n=>`${n}:800`).join(","),label:{show:!1,formatter:function(n){return""}},itemStyle:{shadowBlur:20,shadowColor:"rgba(0,0,0,0.3)",opacity:1,color:void 0}}}]})}}},Us={class:"region-selector flex"},js=["onClick"],Hs={class:"ml-1"};function zs(t,e,o,n,s,i){return L(),T("div",null,[c("div",Us,[e[0]||(e[0]=c("label",null,[c("strong",null,"Select Regions:")],-1)),(L(!0),T(pe,null,Se(s.availableRegions,r=>(L(),T("div",{key:r,class:"region-checkbox"},[c("div",{style:Ee({backgroundColor:s.regionColors[r]||"#cccccc"}),class:"region-color-block",onClick:a=>i.toggleRegion(r)},null,12,js),c("span",Hs,ne(r),1)]))),128))]),e[1]||(e[1]=c("div",{id:"scatterplot",class:"scatterplot-container"},null,-1))])}const qs=U(Ms,[["render",zs]]);const Gs={class:"flex flex-col"},Vs={class:"flex justify-center px-4 mt-10 mb-5"},Ws={class:"selector mb-4"},Ys={__name:"ScatterPlot",setup(t){const e=se("GNH"),o=Ct(()=>({GNH:Fs,Life:qs})[e.value]),n=()=>{};return(s,i)=>(L(),T("div",Gs,[c("div",Vs,[i[2]||(i[2]=c("h1",{class:"text-4xl font-bold"},"Scatterplot",-1)),de(ot,{title:"How to Use?"},{default:et(()=>i[1]||(i[1]=[c("li",null,[c("strong",null,"Region Selection"),c("div",null,"Click on the colored blocks next to region names to toggle visibility of countries from that region.")],-1),c("li",null,[c("strong",null,"Data Visualization"),c("div",null,[c("ul",null,[c("li",null,"X-axis shows Log GDP per capita"),c("li",null,"Y-axis shows Life Ladder (happiness score)"),c("li",null,"Bubble size represents country population")])])],-1),c("li",null,[c("strong",null,"Interactive Features"),c("div",null,[c("ul",null,[c("li",null,"Hover over bubbles to see detailed country information"),c("li",null,"Labels automatically show for countries with large populations"),c("li",null,"Points will enlarge on hover for better visibility")])])],-1),c("li",null,[c("strong",null,"Color Coding"),c("div",null,[Qe(" Each region has a distinct color gradient: "),c("div",{class:"region-colors"},[c("div",{class:"region-item"},[c("span",{class:"color-dot",style:{"background-color":"#10B981"}}),c("span",null,"Oceania")]),c("div",{class:"region-item"},[c("span",{class:"color-dot",style:{"background-color":"#1F2937"}}),c("span",null,"Africa")]),c("div",{class:"region-item"},[c("span",{class:"color-dot",style:{"background-color":"#3B82F6"}}),c("span",null,"Europe")]),c("div",{class:"region-item"},[c("span",{class:"color-dot",style:{"background-color":"#EF4444"}}),c("span",null,"Americas")]),c("div",{class:"region-item"},[c("span",{class:"color-dot",style:{"background-color":"#F59E0B"}}),c("span",null,"Asia")])])])],-1)])),_:1})]),c("div",Ws,[i[4]||(i[4]=c("label",{for:"mapSelector",class:"mr-2"},"Select Plot:",-1)),tt(c("select",{id:"mapSelector","onUpdate:modelValue":i[0]||(i[0]=r=>e.value=r),onChange:n,class:"map-selector"},i[3]||(i[3]=[c("option",{value:"GNH"},"GNH",-1),c("option",{value:"Life"},"Life Expectancy",-1)]),544),[[nt,e.value]])]),(L(),re(_e(o.value)))]))}},Js=U(Ys,[["__scopeId","data-v-07b9969d"]]),Xs=""+new URL("node1-4f9274a4.png",import.meta.url).href,Ks=""+new URL("node2-cfabf3cc.png",import.meta.url).href,Zs=""+new URL("node3-5fd07b47.png",import.meta.url).href,Qs=""+new URL("node4-c91dd777.png",import.meta.url).href,er=""+new URL("node5-dbc4717b.png",import.meta.url).href,tr=""+new URL("node6-2b464635.png",import.meta.url).href,nr=""+new URL("node7-04443a74.png",import.meta.url).href,or=""+new URL("node8-1c543ebe.png",import.meta.url).href;const sr={class:"timeline flex flex-wrap flex-col max-w-[1000px] mx-auto relative before:absolute before:left-1/2 before:w-0.5 before:h-full before:content-[''] before:-ml-[1px] before:bg-white/10"},rr={class:"timeline__content relative p-8 rounded-lg mx-10"},ir=["src","alt"],ar={class:"font-pathway font-normal text-6xl text-white absolute -mt-14 left-20 -ml-10 border-b-2 border-white/50",style:{"text-shadow":"0 0 10px rgba(0,0,0,0.8)"}},lr={class:"text-white/70 font-cardo text-lg text-left leading-relaxed mt-16 pl-4"},cr={class:"text-white/70 font-cardo text-sm text-left leading-relaxed mt-2 pl-4"},dr=["href"],ur={__name:"TimeLine",setup(t){const e=se([{text:"1973 Oil Crisis",image:Xs,title:"1973",description:"Triggered by an OPEC oil embargo, this crisis led to soaring oil prices, causing economic recessions in many countries.",src:"https://www.federalreservehistory.org/essays/oil-shock-of-1973-74"},{text:"1979 Oil Crisis",image:Ks,title:"1979",description:"Stemming from the Iranian Revolution, this event resulted in reduced oil output and further price hikes, exacerbating global economic challenges.",src:"https://www.federalreservehistory.org/essays/oil-shock-of-1978-79"},{text:"Debt Crisis",image:Zs,title:"1980s",description:"Numerous developing nations faced unsustainable debt levels, leading to economic slowdowns and the need for international financial interventions.",src:"https://arthagyaipcw.wordpress.com/2023/02/21/the-lost-decade-latin-america-debt-crisis-1980/"},{text:"Asian Financial Crisis",image:Qs,title:"1997",description:"Originating in Thailand, this crisis spread across East Asia, causing significant economic contractions in affected countries.",src:"https://ohmyecon.org/journal/the-1997-asian-financial-crisis"},{text:"Global Financial Crisis",image:er,title:"20072008",description:"Sparked by the collapse of the housing bubble in the United States, this crisis led to a severe worldwide economic downturn, known as the Great Recession.",src:"https://medium.com/@shashankacharya4/global-financial-crisis-2007-2009-analyzing-through-the-keynesian-is-lm-framework-3ea9935b0748"},{text:"European Debt Crisis",image:tr,title:"2010",description:"Several European nations, notably Greece, faced sovereign debt challenges, leading to austerity measures and economic contractions within the Eurozone.",src:"https://www.nytimes.com/2010/11/16/business/global/16euro.html"},{text:"COVID-19 Pandemic",image:nr,title:"2020",description:"The global outbreak of COVID-19 resulted in unprecedented economic disruptions, with worldwide GDP contracting by approximately 3.1% in 2020.",src:"https://www.cdc.gov/museum/timeline/covid19.html"},{text:"Global Economic Slowdown",image:or,title:"20222023",description:"Post-pandemic recovery faced obstacles due to supply chain disruptions, inflationary pressures, and geopolitical tensions, leading to sluggish growth.",src:"https://www.foxbusiness.com/economy/bank-america-still-forecasting-2023-recession-fed-action-not-enough-exec-warns"}]),o=se(e.value[0].image),n=se(0),s=r=>r===n.value,i=()=>{const r=document.querySelectorAll(".timeline-item"),a=window.scrollY;r.forEach((p,u)=>{const h=p.offsetTop,b=p.offsetTop+p.offsetHeight;a<=b-40&&a>=h&&(n.value=u,o.value=e.value[u].image)})};return en(()=>{window.addEventListener("scroll",i)}),tn(()=>{window.removeEventListener("scroll",i)}),(r,a)=>(L(),T("div",{class:"timeline-container w-full min-h-screen relative py-20 bg-fixed bg-cover transition-all duration-300",style:Ee({backgroundImage:`url(${o.value})`})},[a[1]||(a[1]=c("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-md"},null,-1)),a[2]||(a[2]=c("div",{class:"timeline-header w-full text-center mb-20 relative"},[c("h2",{class:"text-white text-4xl font-normal font-cardo m-0"},"Global GDP Shaping Events"),c("h3",{class:"text-white/50 font-pathway text-base tracking-widest mt-2.5 font-normal"},"Crises and Transformations")],-1)),c("div",sr,[(L(!0),T(pe,null,Se(e.value,(p,u)=>(L(),T("div",{key:u,class:he(["timeline-item py-10 transition-all duration-500 w-[calc(50%)] flex relative",s(u)?"opacity-100 translate-y-0 blur-none":"opacity-30 -translate-y-20 blur-sm",u%2!==0?"self-end":""])},[c("div",{class:he(["absolute top-1/2 transform -translate-y-1/2 text-2xl text-white/70 w-1/2 font-pathway tracking-widest",u%2===0?"left-[105%]":"right-[105%]"]),style:{"text-shadow":"0 0 10px rgba(0,0,0,0.8)"}},ne(p.text),3),c("div",{class:he(["absolute w-4 h-4 bg-white/70 top-1/2 -translate-y-1/2 transform rotate-45",u%2===0?"right-0 translate-x-1/2":"left-0 -translate-x-1/2"])},null,2),c("div",rr,[c("img",{src:p.image,alt:p.title,class:"w-full h-auto shadow-[0_20px_25px_-5px_rgba(0,0,0,0.5)] mb-6"},null,8,ir),c("h2",ar,ne(p.title),1),c("p",lr,ne(p.description),1),c("p",cr,[a[0]||(a[0]=Qe(" Image source: ")),c("a",{href:p.src,class:"text-blue-200 underline"},"link",8,dr)])])],2))),128))])],4))}},pr=U(ur,[["__scopeId","data-v-3d3c4a37"]]);const fr={name:"Footer"},hr={class:"bg-slate-900 text-gray-300 py-6"};function mr(t,e,o,n,s,i){return L(),T("footer",hr,e[0]||(e[0]=[ie('<div class="container mx-auto px-4" data-v-6a27d7e6><div class="flex flex-col items-center" data-v-6a27d7e6><h3 class="text-xl font-semibold mb-4 text-cyan-400" data-v-6a27d7e6>Authors</h3><div class="flex flex-wrap justify-center gap-8" data-v-6a27d7e6><a href="https://github.com/ChuEating1005" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-cyan-400 transition-colors" data-v-6a27d7e6><img src="https://github.com/ChuEating1005.png" alt="" class="w-8 h-8 rounded-full" data-v-6a27d7e6><span data-v-6a27d7e6></span></a><a href="https://github.com/Ray-Cheng-11" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-cyan-400 transition-colors" data-v-6a27d7e6><img src="https://github.com/Ray-Cheng-11.png" alt="" class="w-8 h-8 rounded-full" data-v-6a27d7e6><span data-v-6a27d7e6></span></a><a href="https://github.com/Henry7090" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-cyan-400 transition-colors" data-v-6a27d7e6><img src="https://github.com/Henry7090.png" alt="" class="w-8 h-8 rounded-full" data-v-6a27d7e6><span data-v-6a27d7e6></span></a></div><div class="mt-4 text-sm text-gray-500" data-v-6a27d7e6>  2024 NYCU Data Visualization. All rights reserved. </div></div></div>',1)]))}const gr=U(fr,[["render",mr],["__scopeId","data-v-6a27d7e6"]]);const yr={name:"App",components:{NavBar:mn,Home:Sn,BarChartRace:In,ChoroplethMap:Zn,ScatterPlot:Js,TimeLine:pr,Footer:gr},data(){return{selectedComponent:"Home"}}},br={id:"content"};function vr(t,e,o,n,s,i){const r=dt("NavBar"),a=dt("Footer");return L(),T("div",null,[de(r,{selectedComponent:s.selectedComponent,"onUpdate:selectedComponent":e[0]||(e[0]=p=>s.selectedComponent=p)},null,8,["selectedComponent"]),c("div",br,[(L(),re(nn,null,[(L(),re(_e(s.selectedComponent),{"onUpdate:selectedComponent":e[1]||(e[1]=p=>s.selectedComponent=p)},null,32))],1024))]),de(a)])}const wr=U(yr,[["render",vr]]);on(wr).mount("#app");
